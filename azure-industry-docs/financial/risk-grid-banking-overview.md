---
title: 銀行取引のリスク グリッド コンピューティングの概要
author: dstarr
ms.author: dastarr
ms.date: 04/12/2018
ms.topic: article
ms.service: industry
description: Azure で銀行取引にリスク グリッド コンピューティングを実装するときのビジネス上の考慮事項を示します。
ms.openlocfilehash: 49d3d5223bee85689043d84eb5236cca4f53fc03
ms.sourcegitcommit: 76f2862adbec59311b5888e043a120f89dc862af
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2018
ms.locfileid: "51654179"
---
# <a name="risk-grid-computing-in-banking-overview"></a><span data-ttu-id="005f3-103">銀行取引のリスク グリッド コンピューティングの概要</span><span class="sxs-lookup"><span data-stu-id="005f3-103">Risk Grid Computing in Banking Overview</span></span>

## <a name="introduction"></a><span data-ttu-id="005f3-104">はじめに</span><span class="sxs-lookup"><span data-stu-id="005f3-104">Introduction</span></span>

<span data-ttu-id="005f3-105">企業の財務部門や投資銀行では、最も重要な業務の 1 つがリスクの分析です。</span><span class="sxs-lookup"><span data-stu-id="005f3-105">In corporate finance and investment banking, one of the most important jobs is analyzing risk.</span></span>

<span data-ttu-id="005f3-106">投資ポートフォリオに関連するリスクの全体像を与えるために、金融リスク アナリストは調査内容を見直し、景気と社会状況を監視し、規制情報を常に確認し、投資環境のコンピューター モデルを作ります。</span><span class="sxs-lookup"><span data-stu-id="005f3-106">To provide a comprehensive picture of the risk associated with an investment portfolio, financial risk analysts review research, monitor economic and social conditions, stay abreast of regulations, and create computer models of the investment climate.</span></span>

<span data-ttu-id="005f3-107">ポートフォリオに影響を与えるさまざまなベクトルを対象とするリスク分析には、コンピューターによるモデル化が必要になるだけの複雑性があります。</span><span class="sxs-lookup"><span data-stu-id="005f3-107">Risk analysis across the many vectors that affect a portfolio is sufficiently complex that computer modeling is required.</span></span> <span data-ttu-id="005f3-108">ほとんどのアナリストはコンピューター モデルでの作業にかなりの時間を費やし、金融状況の変化をシミュレーションして、予測します。</span><span class="sxs-lookup"><span data-stu-id="005f3-108">Most analysts spend quite a bit of time working with computer models to simulate and predict how financial conditions will change.</span></span> <span data-ttu-id="005f3-109">投資リスク (市場リスク、クレジット リスク、オペレーショナル リスト) を評価するとき、予測モデルを処理するための計算負荷はデータの量と多様性のために非常に大きくなることがあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-109">When evaluating investment risks (Market Risk, Credit Risk and Operational Risk), the computational load of processing the predicative models can be quite large due to the volume of and diversity data.</span></span>

<span data-ttu-id="005f3-110">クラウド コンピューティングを利用すれば、資本経費を発生させず、また、インフラストラクチャを管理することなく、アナリストは大量の計算リソースに必要に応じてアクセスできます。そのため、クラウド コンピューティングには、リスク グリッド コンピューティングやリスク モデリングにとって大きな利点となります。</span><span class="sxs-lookup"><span data-stu-id="005f3-110">Cloud computing offers significant benefits for risk grid computing or risk modeling because it enables analysts to access massive compute resources on demand, without incurring capital costs or managing infrastructure.</span></span> <span data-ttu-id="005f3-111">この記事では、Microsoft Azure を活用して現在のリスク グリッド コンピューティング リソースを増やし、リスク グリッド コンピューティング ワークロードのコストとスピードを最適化する方法について検証します。</span><span class="sxs-lookup"><span data-stu-id="005f3-111">This article examines leveraging Microsoft Azure to augment current risk grid compute resources and optimize the cost and speed of risk grid computing workloads.</span></span> <span data-ttu-id="005f3-112">トピックとしては、安全で信頼できる接続、一括処理、オンプレミス サーバーのフル稼働時に必要に応じて計算リソースを増やす方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="005f3-112">Topics covered include secure and reliable connectivity, batch processing, and augmenting compute resources based on demand when on-premises servers are at capacity.</span></span>

## <a name="grid-computing-services"></a><span data-ttu-id="005f3-113">グリッド コンピューティング サービス</span><span class="sxs-lookup"><span data-stu-id="005f3-113">Grid computing services</span></span>

<span data-ttu-id="005f3-114">アナリストは自分のモデルを一括処理パイプラインに送るシンプルかつ信頼性の高い方法を必要とします。このパイプラインはデータの取り込みから始まり、データ処理を経由して分析に進み、結果的に与えられるデータから分析情報を引き出します。</span><span class="sxs-lookup"><span data-stu-id="005f3-114">Analysts need a simple and reliable way to provide their models to a batch processing pipeline, which starts with data ingestion and flows through data processing to analysis, where insights can be derived from the resulting data.</span></span>

<span data-ttu-id="005f3-115">リスク モデルの入力データにはいくつかの形式があります。最も一般的な形式は Excel ファイルまたは .csv ファイルです。</span><span class="sxs-lookup"><span data-stu-id="005f3-115">Risk model input data comes in several forms, the most common being Excel files or .csv files.</span></span> <span data-ttu-id="005f3-116">そのようなファイルは多くの場合、リスク コンピューティング パイプラインの後半で、リスク モデルの処理にもっとふさわしい形式に再構築されます。</span><span class="sxs-lookup"><span data-stu-id="005f3-116">These files are often restructured into formats more suitable for processing the risk model in later stages of the risk compute pipeline.</span></span> <span data-ttu-id="005f3-117">そのようなファイルを解析し、処理する一般的な手法は、共通の目標に到達する目的で連動する仮想マシン (VMs?WT.mc_id=gridbank-docs-dastarr) のグリッドによる一括処理です。</span><span class="sxs-lookup"><span data-stu-id="005f3-117">A common technique for parsing and processing these files is batch processing with a grid of virtual machines (VMs?WT.mc_id=gridbank-docs-dastarr) working together to reach a common goal.</span></span>

<span data-ttu-id="005f3-118">[Azure Batch](/azure/batch/?WT.mc_id=gridbank-docs-dastarr) は、下の図のように、複数の worker VM を並行で動かすことを可能にする Azure サービスです。</span><span class="sxs-lookup"><span data-stu-id="005f3-118">[Azure Batch](/azure/batch/?WT.mc_id=gridbank-docs-dastarr) is an Azure service which allows multiple worker VMs to run in parallel, as shown below.</span></span> <span data-ttu-id="005f3-119">データ ファイルを処理し、結果を機械学習システムまたはデータ ストアに送信することは、worker ノードの共通タスクです。</span><span class="sxs-lookup"><span data-stu-id="005f3-119">Processing data files and submitting results to machine learning systems or data stores are common tasks for the worker nodes.</span></span> <span data-ttu-id="005f3-120">worker ノードによって実行されるアプリケーション コードは顧客によって作成されます。そのため、ほぼすべてのアクションがバッチ ジョブ内で行われることがあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-120">The application code run by the worker nodes is created by the customer, so almost any action may be taken in the batch job.</span></span>

![オンプレミス バッチ](./assets/risk-grid-compute-assets/01-on-prem.png)

<span data-ttu-id="005f3-122">Azure には、Azure Batch を使用するリスク グリッド コンピューティングのための高度なソリューションがあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-122">Azure provides an elegant solution for risk grid computing using Azure Batch.</span></span> <span data-ttu-id="005f3-123">顧客は Azure Batch を使用して既存のリスク コンピューティング グリッドを拡張したり、オンプレミス リソースを完全クラウド基盤のソリューションに置換したりできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-123">Customers can use Azure Batch to extend their existing risk computing grid, or to replace on-premises resources with a completely cloud-based solution.</span></span>

<span data-ttu-id="005f3-124">Azure クラウドには安全な方法で直接接続できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-124">Connecting directly and securely to the Azure cloud is fully supported.</span></span> <span data-ttu-id="005f3-125">Batch のリスク処理グリッド worker ノードは、ハイブリッド ネットワークで Azure に接続されている場合、オンプレミスに保存されているデータに接続されるとモデリング データにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-125">The Batch risk processing grid worker nodes can access modeling data when connecting to data stored on-premises when connecting to Azure with a hybrid network.</span></span> <span data-ttu-id="005f3-126">顧客は Azure 内の適切なストレージにデータをアップロードすることもできます。Batch はデータに直接アクセスできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-126">The customer can also upload data to appropriate storage within Azure, allowing Batch to have direct access to the data.</span></span>

## <a name="secure-connectivity-to-azure"></a><span data-ttu-id="005f3-127">Azure へのセキュリティで保護された接続</span><span class="sxs-lookup"><span data-stu-id="005f3-127">Secure connectivity to Azure</span></span>

<span data-ttu-id="005f3-128">Azure でリスク グリッド コンピューティング ソリューションを構築するとき、企業は多くの場合、取引システム、ミドル オフィス リスク管理、リスク分析など、既存のオンプレミス アプリケーションを引き続き使用します。</span><span class="sxs-lookup"><span data-stu-id="005f3-128">When building a risk grid computing solution on Azure, the business will often continue to use existing on-premises applications such as trading systems, middle office risk management, risk analytics, and so on.</span></span> <span data-ttu-id="005f3-129">Azure はそのような既存の投資を拡張するものです。</span><span class="sxs-lookup"><span data-stu-id="005f3-129">Azure becomes an extension to those existing investments.</span></span>

<span data-ttu-id="005f3-130">クラウドに接続するときは、最初に考慮するべき問題がセキュリティです。</span><span class="sxs-lookup"><span data-stu-id="005f3-130">When connecting to the cloud, security is a primary consideration.</span></span> <span data-ttu-id="005f3-131">Azure に直接接続するための最初の一歩は、現行のセキュリティ モデルを計算に入れることです。</span><span class="sxs-lookup"><span data-stu-id="005f3-131">Accounting for your current security model is the first step in connecting directly to Azure.</span></span> <span data-ttu-id="005f3-132">オンプレミスで Active Directory (AD?WT.mc_id=gridbank-docs-dastarr) を既に使用している顧客の場合、Azure に接続するとき、既存の ID リソースを活用できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-132">For customers already using Active Directory (AD?WT.mc_id=gridbank-docs-dastarr) on-premises, connecting to Azure can leverage existing identity resources.</span></span> <span data-ttu-id="005f3-133">サービス アカウントはオンプレミス AD に存続できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-133">Service accounts can live in the on-premises AD.</span></span>

### <a name="hybrid-network-solution"></a><span data-ttu-id="005f3-134">ハイブリッド ネットワーク ソリューション</span><span class="sxs-lookup"><span data-stu-id="005f3-134">Hybrid network solution</span></span>

<span data-ttu-id="005f3-135">ハイブリッド ネットワークにより、顧客のオンプレミス ネットワークに Azure が直接接続されます。</span><span class="sxs-lookup"><span data-stu-id="005f3-135">A hybrid network ties Azure directly to the customer&#39;s on-premises network.</span></span> <span data-ttu-id="005f3-136">Azure には、セキュリティで保護された信頼性の高い方法で現在のオンプレミス システムを Azure に接続するために、[Microsoft Azure ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbank-docs-dastarr) と [VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbank-docs-dastarr) という 2 つのモデルが用意されています。</span><span class="sxs-lookup"><span data-stu-id="005f3-136">Azure offers two models for securely and reliably connecting current on-premises systems to Azure, [Microsoft Azure ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbank-docs-dastarr) and [VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbank-docs-dastarr).</span></span> <span data-ttu-id="005f3-137">実装、パフォーマンス、その他の属性には違いがあるものの、両方とも信頼できる接続ソリューションです。</span><span class="sxs-lookup"><span data-stu-id="005f3-137">Both are trusted connectivity solutions, although there are differences in implementation, performance, cost and other attributes.</span></span>

![Azure 接続](./assets/risk-grid-compute-assets/02-connectivity.png)

<span data-ttu-id="005f3-139">&quot;クラウドへのバースト&quot;を利用すると、既存のリソースが急増したとき、クラウド基盤のコンピューターに計算作業が分散されます。顧客のデータ センターまたはプライベート クラウドのリソースがオフます。</span><span class="sxs-lookup"><span data-stu-id="005f3-139">&quot;Burst to cloud&quot; offloads computing jobs to cloud-based machines when existing resources spike, augmenting the customer&#39;s data center or private cloud resources.</span></span> <span data-ttu-id="005f3-140">ハイブリッド ネットワーク モデルを使用すると、クラウド基盤のリスク コンピューティング グリッドが既存ネットワークの単純な拡張となるため、"クラウドへのバースト" シナリオが簡単になります。</span><span class="sxs-lookup"><span data-stu-id="005f3-140">Using the hybrid network model allows for easy burst to cloud scenarios as the cloud-based risk computing grid is a simple extension of the existing network.</span></span>

<span data-ttu-id="005f3-141">上記の論理アーキテクチャに提示されているシンプルなモデルのネットワーク接続構成以外にもネットワーク接続構成がいくつか存在します。</span><span class="sxs-lookup"><span data-stu-id="005f3-141">There are several network connectivity configurations beyond those in the simple model presented in the logical architecture above.</span></span> <span data-ttu-id="005f3-142">ネットワークの Azure への接続に関する決定とアーキテクチャのガイダンスとして、「[_オンプレミス ネットワークの Azure への接続_](/azure/architecture/reference-architectures/hybrid-networking/)」という記事が参考になります。</span><span class="sxs-lookup"><span data-stu-id="005f3-142">To help with decisions and architectural guidance regarding connecting your network to Azure, see the article [_Connect an on-premises network to Azure_](/azure/architecture/reference-architectures/hybrid-networking/).</span></span>

### <a name="rest-api-solution-over-internet"></a><span data-ttu-id="005f3-143">インターネット経由の REST API ソリューション</span><span class="sxs-lookup"><span data-stu-id="005f3-143">REST API solution over Internet</span></span>

<span data-ttu-id="005f3-144">ハイブリッド ネットワークを構築する代わりに、データを Azure Storage (ファイルまたは Blob ストレージがおそらく候補に?WT.mc_id=gridbank-docs-dastarr) にアップロードし、Batch にストレージからデータ ファイルを読み込ませることができます。</span><span class="sxs-lookup"><span data-stu-id="005f3-144">An alternative to creating a hybrid network is to upload data into Azure Storage (file or Blob storage being likely candidates?WT.mc_id=gridbank-docs-dastarr) and have Batch read the data files from storage.</span></span> <span data-ttu-id="005f3-145">これを達成するには、安全な (SSL?WT.mc_id=gridbank-docs-dastarr) 接続を利用して Azure に接続し、Azure Storage にドキュメントを保管し、[Batch サービス REST API](/rest/api/batchservice/?WT.mc_id=gridbank-docs-dastarr) または SDK と目的にかなったアプリケーションでリスク グリッド コンピューティング ジョブを管理し、Batch 実行を調整します。</span><span class="sxs-lookup"><span data-stu-id="005f3-145">This can be achieved using a secure (SSL?WT.mc_id=gridbank-docs-dastarr) connection to connect to Azure, storing the documents in Azure Storage, and then managing the risk grid computing jobs via the [Batch service REST API](/rest/api/batchservice/?WT.mc_id=gridbank-docs-dastarr) or SDK with a fit-for-purpose application, orchestrating the Batch run.</span></span>

### <a name="azure-data-factory"></a><span data-ttu-id="005f3-146">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="005f3-146">Azure Data Factory</span></span>

<span data-ttu-id="005f3-147">シナリオによっては [Azure Data Factory](/azure/data-factory/?WT.mc_id=gridbank-docs-dastarr) を使用するというソリューションもあります。Azure Data Factory はクラウド基盤のデータ統合サービスであり、保管、移動、処理からなる大規模なパイプラインを構成します。</span><span class="sxs-lookup"><span data-stu-id="005f3-147">Another solution for your scenario may be using [Azure Data Factory](/azure/data-factory/?WT.mc_id=gridbank-docs-dastarr), a cloud-based data integration service, to compose large storage, movement and processing pipelines.</span></span> <span data-ttu-id="005f3-148">データは Data Factory パイプライン経由で必要なときにアップロードできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-148">Data can be uploaded on demand through a Data Factory pipeline.</span></span> <span data-ttu-id="005f3-149">このサービスによって、Azure portal でビジュアル デザイナーが提供されます。Extract/Transform/Load (抽出/変換/ロード、ETL?WT.mc_id=gridbank-docs-dastarr) ソリューションを Azure で構築するためのデザイナーです。</span><span class="sxs-lookup"><span data-stu-id="005f3-149">The service provides a visual designer in the Azure portal for building Extract, Transform and Load (ETL?WT.mc_id=gridbank-docs-dastarr) solutions in Azure.</span></span> <span data-ttu-id="005f3-150">Data Factory では、さらに処理する目的で Azure にデータを取り込むことができます。</span><span class="sxs-lookup"><span data-stu-id="005f3-150">Data Factory can help ingest data into Azure for further processing.</span></span>

## <a name="matching-processing-needs-with-demand"></a><span data-ttu-id="005f3-151">処理ニーズを要求に合わせる</span><span class="sxs-lookup"><span data-stu-id="005f3-151">Matching processing needs with demand</span></span>

<span data-ttu-id="005f3-152">毎日のリスクであれ、大量のデータが付随する月末のリスクであれ、リスクを計算するとき、相当な計算リソースが使用されます。</span><span class="sxs-lookup"><span data-stu-id="005f3-152">When computing risk, whether daily or with the heavier loads at the end of the month, the calculations consume significant computational resources.</span></span> <span data-ttu-id="005f3-153">このような計算が年中無休で実行されることはありません。</span><span class="sxs-lookup"><span data-stu-id="005f3-153">These calculations do not run 24x7.</span></span> <span data-ttu-id="005f3-154">リスク計算がオンプレミス グリッドで実行されていないとき、組織が保有する高額なサーバーには何の作業も与えられませんが、他の固定費と共に、電力、冷却、データセンターの占有領域のコストは常に発生します。</span><span class="sxs-lookup"><span data-stu-id="005f3-154">When risk calculations are not being run on the on-premises grid, the organization leaves valuable and expensive servers running with no workload, but with ongoing costs for power, cooling, and datacenter space, along with other fixed costs.</span></span>

### <a name="augmenting-on-premises-grid-with-azure-batch"></a><span data-ttu-id="005f3-155">Azure Batch でオンプレミス グリッドを増やす</span><span class="sxs-lookup"><span data-stu-id="005f3-155">Augmenting on-premises grid with Azure Batch</span></span>

<span data-ttu-id="005f3-156">コストを最小限に抑えるために、要求が低いとき、要件を満たすのに十分な worker ノードだけを所有し、管理することを企業は選択できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-156">To minimize costs, a business could choose to own and manage just enough worker nodes to satisfy requirements when demand is low.</span></span> <span data-ttu-id="005f3-157">その場合、要求の大きいリスク グリッド コンピューティング ジョブは Azure の高性能サーバーに送ることができます。作業量要求に合わせて自由自在に拡大縮小できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-157">High demand risk grid computing jobs can then be pushed to high performance servers in Azure, elastically scaling up and down with workload demand.</span></span>

<span data-ttu-id="005f3-158">Azure Batch 処理モデルには、リスク グリッド コンピューティングに関して利点がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-158">The Azure Batch processing model has several benefits for risk grid computing:</span></span>

- <span data-ttu-id="005f3-159">さまざまなオンプレミス システムで既存の投資を増強します。</span><span class="sxs-lookup"><span data-stu-id="005f3-159">Augments existing investments in various on-premises systems.</span></span>
- <span data-ttu-id="005f3-160">要求が低いときは、既存のインフラストラクチャでリスク分析ニーズにサービスを提供できます。その際、Azure ベースの worker ノードの割り当てを解除します。</span><span class="sxs-lookup"><span data-stu-id="005f3-160">Allows existing infrastructure to serve risk analysis needs when demand is low, deallocating Azure-based worker nodes.</span></span>
- <span data-ttu-id="005f3-161">要求が高いときは、リスク コンピューティング グリッドに追加の容量を提供します。</span><span class="sxs-lookup"><span data-stu-id="005f3-161">Provides extra capacity to the risk compute grid when demand is high.</span></span>
- <span data-ttu-id="005f3-162">Batch ワークロードで必要とされる処理能力とコンピューターのプロファイルを照合し、組み合わせることができます。負荷に対して[ハイ パフォーマンス コンピューティング (HPC)](/azure/virtual-machines/windows/hpcpack-cluster-options?WT.mc_id=gridbank-docs-dastarr) 構成が求められる場合にも対応できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-162">Enables matching machine profiles to the processing power needed by Batch workload, even when the load calls for [High Performance Computing (HPC)](/azure/virtual-machines/windows/hpcpack-cluster-options?WT.mc_id=gridbank-docs-dastarr) configurations.</span></span>

<span data-ttu-id="005f3-163">一般的なソリューションは、オンプレミス worker がすべて使用されているとき、Azure で自動的に worker ノードを追加することです。</span><span class="sxs-lookup"><span data-stu-id="005f3-163">A common solution is to automatically add worker nodes in Azure when the on-premises workers are all in use.</span></span> <span data-ttu-id="005f3-164">リンク グリッド ヘッド ノードによって追加の worker が要求されます。</span><span class="sxs-lookup"><span data-stu-id="005f3-164">The risk grid head node simply asks for more workers.</span></span> <span data-ttu-id="005f3-165">Azure でグリッド worker ノードの数が自動的にスケーリングされ、柔軟な要求ソリューションが可能になります。</span><span class="sxs-lookup"><span data-stu-id="005f3-165">This automatically scales the number of grid worker nodes in Azure and enables an elastic demand solution.</span></span>

![ハイブリッド クラウド](./assets/risk-grid-compute-assets/03-hybrid-cloud.png)

<span data-ttu-id="005f3-167">この配置にはリソースが効率的に使用されること以外にも長所があります。</span><span class="sxs-lookup"><span data-stu-id="005f3-167">Along with efficient use of resources, this arrangement provides other benefits.</span></span> <span data-ttu-id="005f3-168">非依存タスクの場合、worker を追加することで負荷を直線的に拡大縮小できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-168">For independent tasks, adding more workers allows the load to scale linearly.</span></span> <span data-ttu-id="005f3-169">Azure にはまた、非常に大きな VM インスタンスや複数の GPU エードを持つコンピューターを試す柔軟性があります。</span><span class="sxs-lookup"><span data-stu-id="005f3-169">Azure also provides the flexibility to try out a very large VM instance or a machine with several GPU cards.</span></span> <span data-ttu-id="005f3-170">この柔軟性により実験やイノベーションが可能になります。</span><span class="sxs-lookup"><span data-stu-id="005f3-170">This flexibility enables experimentation and innovation.</span></span>

<span data-ttu-id="005f3-171">四半期に 1 回の評価など、計算能力を増やす必要があるとき、その追加の容量も Azure Batch 自動スケールから調達できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-171">For times when more compute capacity is needed, such as quarterly valuations, the extra capacity can also come from Azure Batch auto-scaling.</span></span> <span data-ttu-id="005f3-172">自動スケールによって Batch ソリューションに順応性が与えられます。</span><span class="sxs-lookup"><span data-stu-id="005f3-172">Auto-scaling provides elasticity to your Batch solution.</span></span> <span data-ttu-id="005f3-173">Azure を利用し、必要な負荷に合わせてリソースを拡大縮小することで、ハードウェアを所有することより低いコストで容量を大幅に増やすことができます。</span><span class="sxs-lookup"><span data-stu-id="005f3-173">By scaling resources to match needed load, Azure provides significantly greater capacity at a lower cost than owning the hardware.</span></span>

<span data-ttu-id="005f3-174">ほとんどの商用グリッド製品で何らかの形式の "クラウドへのバースト" に対応しており、リスク分析負荷の概念実証を簡単にしています。</span><span class="sxs-lookup"><span data-stu-id="005f3-174">Most commercial grid products do support some form of burst to cloud, enabling easier proofs of concept for your risk analysis load.</span></span> <span data-ttu-id="005f3-175">たとえば、[Microsoft HPC Pack](/azure/virtual-machines/windows/hpcpack-cluster-options?WT.mc_id=gridbank-docs-dastarr) は Azure で実行することができるほか、TIBCO や Univa といった企業の製品も同様に実行できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-175">For example, [Microsoft HPC Pack](/azure/virtual-machines/windows/hpcpack-cluster-options?WT.mc_id=gridbank-docs-dastarr) can run in Azure, as can products from companies like TIBCO, Univa, and others.</span></span> <span data-ttu-id="005f3-176">このようなサード パーティ製のツールまたはシステムの多くは [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/?WT.mc_id=gridbank-docs-dastarr) から入手できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-176">Many of these 3rd party tools or systems are available through the [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/?WT.mc_id=gridbank-docs-dastarr).</span></span>

### <a name="migrating-additional-resources-to-the-cloud"></a><span data-ttu-id="005f3-177">追加リソースをクラウドに移行する</span><span class="sxs-lookup"><span data-stu-id="005f3-177">Migrating additional resources to the cloud</span></span>

<span data-ttu-id="005f3-178">作業量が増え、オンプレミス データセンターのインフラストラクチャが古くなったら、組織はリスク グリッド コンピューティングのための Batch 処理全体を Azure に移動できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-178">As workloads grow or on-premises datacenter infrastructure ages, organizations can move their entire Batch processing for risk grid computing into Azure.</span></span>

### <a name="growing-into-azure"></a><span data-ttu-id="005f3-179">Azure に移行する</span><span class="sxs-lookup"><span data-stu-id="005f3-179">Growing into Azure</span></span>

<span data-ttu-id="005f3-180">オンプレミス コンピューターの寿命が尽きたら、worker ノードをクラウドにさらに分散できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-180">As on-premises machines reach end of life, you can further distribute worker nodes into the cloud.</span></span> <span data-ttu-id="005f3-181">Batch ヘッド ノードにも同じことが当てはまります。</span><span class="sxs-lookup"><span data-stu-id="005f3-181">The same can be true for the Batch head node.</span></span> <span data-ttu-id="005f3-182">これにより、オンプレミス ネットワークと Azure の関係が逆になります。</span><span class="sxs-lookup"><span data-stu-id="005f3-182">This inverts the relationship between the on-premises network and Azure.</span></span> <span data-ttu-id="005f3-183">これは、Azure ExpressRoute などのネットワーク間製品や残りのオンプレミス worker ノードの使用を止めることでコストを減らす機会になる可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-183">This may be an opportunity to decrease costs by decommissioning any network-to-network products such as Azure ExpressRoute, and any remaining on-premises worker nodes.</span></span>

<span data-ttu-id="005f3-184">この変更の一環として、さまざまなファイル取り込み手法を利用し、Azure でデータを利用できる場合があります。</span><span class="sxs-lookup"><span data-stu-id="005f3-184">As part of this change, data may be made available to Azure using various file ingress techniques.</span></span> <span data-ttu-id="005f3-185">Azure にはストレージの選択肢がたくさん用意されています。たとえば、REST エンドポイントの場合、計算ジョブにオンプレミス ネットワークから回収させるのではなく、データを直接アップロードできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-185">Azure has many storage options to choose from, including rest endpoints to allow uploading data directly, rather than having the compute jobs pick it up from the on-premises network.</span></span>

 ![オンプレミス バッチ](./assets/risk-grid-compute-assets/04-batch-process.png)

<span data-ttu-id="005f3-187">このモデルの下では、すべてのリスク グリッド コンピューティング活動をクラウドで行うことができます。</span><span class="sxs-lookup"><span data-stu-id="005f3-187">Under this model, all risk grid computing activities can take place in the cloud.</span></span> <span data-ttu-id="005f3-188">worker によって処理されるデータ ファイルは Azure ストレージに格納できます。データは Azure Data Lake に直接送信できます。Azure HDInsight で機械学習ニーズに対処できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-188">Data files processed by the workers may be stored in Azure storage, data can be fed directly into the Azure Data Lake, and Azure HDInsight can take care of machine learning needs.</span></span> <span data-ttu-id="005f3-189">最後になりますが、Power BI と Azure Analytics は優れたデータ分析ツールであり、Azure に保管されているすべてのデータで機能します。</span><span class="sxs-lookup"><span data-stu-id="005f3-189">Finally, Power BI and Azure Analytics are excellent data analysis tools and can work across all data stored in Azure.</span></span>

### <a name="data-security-considerations-for-risk-grid-computing"></a><span data-ttu-id="005f3-190">リスク グリッド コンピューティングのデータ セキュリティ上の考慮事項</span><span class="sxs-lookup"><span data-stu-id="005f3-190">Data security considerations for risk grid computing</span></span>

<span data-ttu-id="005f3-191">計算データには多くの場合、個人を特定できる情報 (PII?WT.mc_id=gridbank-docs-dastarr) が含まれていませんが、ほとんどの銀行は、今でもクラウドにワークロードを置く前にセキュリティ リスト評価を実行しているでしょう。</span><span class="sxs-lookup"><span data-stu-id="005f3-191">While calculation data often does not include any Personally Identifiable Information (PII?WT.mc_id=gridbank-docs-dastarr), most banks are still likely to conduct a security risk assessment before placing any workload in the cloud.</span></span> <span data-ttu-id="005f3-192">この評価には Microsoft からのインプットが必要になる場合があり、結果としてセキュリティに関する推奨事項が与えられることがあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-192">This assessment may require input from Microsoft and may result in security recommendations.</span></span>

<span data-ttu-id="005f3-193">リスク グリッド コンピューティングで注目すべき考慮事項は、[Azure VNet 内でバッチ処理を実行する](/azure/batch/batch-virtual-network?WT.mc_id=gridbank-docs-dastarr)ということです。</span><span class="sxs-lookup"><span data-stu-id="005f3-193">A notable consideration for risk grid computing is to [run the batch processes within an Azure VNet](/azure/batch/batch-virtual-network?WT.mc_id=gridbank-docs-dastarr).</span></span> <span data-ttu-id="005f3-194">これによってプール コンピューティング ノードが他のコンピューティング ノードやオンプレミス ネットワークと安全に通信できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-194">This allows pool compute nodes to communicate securely with other compute nodes, or with an on-premises network.</span></span> <span data-ttu-id="005f3-195">適切なサービス アカウントと Network Service Groups (NSG) 作成し、バッチ コンピューティング ノードで使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="005f3-195">Appropriate service accounts and Network Service Groups (NSG) should be created and used by the batch compute nodes.</span></span> <span data-ttu-id="005f3-196">転送するデータと Azure Storage に保管しているデータの暗号化についても [Azure ではソリューションを用意しています](/azure/security/blueprints/financial-services-regulated-workloads?WT.mc_id=gridbank-docs-dastarr)。</span><span class="sxs-lookup"><span data-stu-id="005f3-196">[Azure also has solutions](/azure/security/blueprints/financial-services-regulated-workloads?WT.mc_id=gridbank-docs-dastarr) for data encryption in transit and at rest in Azure storage.</span></span>

<span data-ttu-id="005f3-197">考慮すべき領域には、Active Directory (AD) に参加している/参加していないコンピューティング ノード (Windows Server ノード?WT.mc_id=gridbank-docs-dastarr)、[VM ディスク暗号化](/azure/security/azure-security-disk-encryption?WT.mc_id=gridbank-docs-dastarr)、保存中と転送中の計算入力/出力データのセキュリティ、Azure ネットワーク構成、アクセス許可などがあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-197">Some areas to consider may be: Active Directory (AD) or non-AD joined compute nodes (for Windows Server nodes?WT.mc_id=gridbank-docs-dastarr), [VM disk encryption](/azure/security/azure-security-disk-encryption?WT.mc_id=gridbank-docs-dastarr), security of calculation input and output data at rest and in transit, Azure network configurations, permissions and more.</span></span> <span data-ttu-id="005f3-198">認証は秘密鍵を通して REST API レベルで処理されることもあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-198">Authentication may also be handled at the REST API level through a secret key.</span></span>

## <a name="getting-started"></a><span data-ttu-id="005f3-199">Getting Started (概要)</span><span class="sxs-lookup"><span data-stu-id="005f3-199">Getting Started</span></span>

<span data-ttu-id="005f3-200">お客様の多くは、社内リスク コンピューティング グリッドを既に使用しています。</span><span class="sxs-lookup"><span data-stu-id="005f3-200">Many customers have an in-house risk computing grid they already use.</span></span> <span data-ttu-id="005f3-201">会社がグリッドを内部で開発した場合、そのグリッドを延長するものとして Azure Batch を検討してください。</span><span class="sxs-lookup"><span data-stu-id="005f3-201">If your company developed the grid internally, consider Azure Batch to extend the grid.</span></span> <span data-ttu-id="005f3-202">Azure Batch の出発点としてお勧めなのが現行のオンプレミス ソリューションの拡張です。具体的には、現行の処理アプリケーション ロジックを複製し、それを Azure でバッチ ジョブとして実行します。</span><span class="sxs-lookup"><span data-stu-id="005f3-202">A good place to start with Azure Batch is by extending any current on-premises solution by replicating the current processing application logic and running it as a Batch job in Azure.</span></span> <span data-ttu-id="005f3-203">これには、アプリケーションの機能にもよりますが、Azure Batch コンピューティング ノードをオンプレミス ネットワークに参加させるネットワーク ソリューションが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="005f3-203">This may require a networking solution for joining the Azure Batch compute nodes to the on-premises network, depending on our application&#39;s functionality.</span></span>

<span data-ttu-id="005f3-204">セキュリティ、スピード、接続の信頼性に関する問題を緩和するには、Azure ExpressRoute または VPN Gateway を使用し、オンプレミス ネットワークを Azure に接続することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="005f3-204">To mitigate any security, speed, and connection reliability concerns, consider connecting your on-premises network to Azure using Azure ExpressRoute or a VPN Gateway.</span></span> <span data-ttu-id="005f3-205">そこから、オンプレミス ヘッド ノードにより Azure ベースの worker ノードのクラスターをプロビジョニングし、必要に応じて拡大縮小します。</span><span class="sxs-lookup"><span data-stu-id="005f3-205">From there, you may have your on-premises head node provision a cluster of Azure-based worker nodes, spinning them up and down as needed.</span></span>

<span data-ttu-id="005f3-206">これでようやく、リスク コンピューティング インフラストラクチャを Azure に完全移行する準備ができました。</span><span class="sxs-lookup"><span data-stu-id="005f3-206">Lastly, you may be ready for a complete migration of your risk compute infrastructure to Azure.</span></span> <span data-ttu-id="005f3-207">準備ができた場合は、[こちらの記事](/azure/batch/?WT.mc_id=gridbank-docs-dastarr)をお読みになり、今すぐ移行を始めてください。</span><span class="sxs-lookup"><span data-stu-id="005f3-207">If this is the case, [here is an article](/azure/batch/?WT.mc_id=gridbank-docs-dastarr) to get you started today.</span></span>

## <a name="technologies-presented"></a><span data-ttu-id="005f3-208">提供されるテクノロジ</span><span class="sxs-lookup"><span data-stu-id="005f3-208">Technologies Presented</span></span>

<span data-ttu-id="005f3-209">[Azure Batch](/azure/batch/?WT.mc_id=gridbank-docs-dastarr) では、オンプレミス リスク コンピューティング worker ノードを増強し、要求に合わせてコンピューティング リソースを動的に提供できます。</span><span class="sxs-lookup"><span data-stu-id="005f3-209">[Azure Batch](/azure/batch/?WT.mc_id=gridbank-docs-dastarr) enables augmenting on-premises risk computing worker nodes to dynamically provide compute resources based on demand.</span></span>

<span data-ttu-id="005f3-210">[Azure DataLake](/azure/data-lake-store?WT.mc_id=gridbank-docs-dastarr) では、リスク分析データのストレージ、処理、分析が提供されます。</span><span class="sxs-lookup"><span data-stu-id="005f3-210">[Azure DataLake](/azure/data-lake-store?WT.mc_id=gridbank-docs-dastarr) provides storage, processing and analytics across for your risk analysis data.</span></span>

<span data-ttu-id="005f3-211">[ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbank-docs-dastarr) は、接続プロバイダーが提供するプライベート接続を介してオンプレミス ネットワークを Azure に延長するものです。</span><span class="sxs-lookup"><span data-stu-id="005f3-211">[Azure ExpressRoute](/azure/expressroute/expressroute-introduction?WT.mc_id=gridbank-docs-dastarr) extends your on-premises network to Azure over a private connection facilitated by a connectivity provider.</span></span>

<span data-ttu-id="005f3-212">[Azure HDInsight](/azure/hdinsight/?WT.mc_id=gridbank-docs-dastarr) は完全なマネージド型のオープンソース分析サービスであり、月末の一括実行で提供されるデータのような大量のデータを処理します。</span><span class="sxs-lookup"><span data-stu-id="005f3-212">[Azure HDInsight](/azure/hdinsight/?WT.mc_id=gridbank-docs-dastarr) is a fully managed open-source analytics service to process massive amounts of data such as the data provided in month-end batch runs.</span></span>

<span data-ttu-id="005f3-213">[Microsoft HPC Pack](/azure/virtual-machines/windows/hpcpack-cluster-options?WT.mc_id=gridbank-docs-dastarr) では、一括処理のためにハイ パフォーマンス コンピューティング クラスターをプロビジョニングできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-213">[Microsoft HPC Pack](/azure/virtual-machines/windows/hpcpack-cluster-options?WT.mc_id=gridbank-docs-dastarr) enables provisioning High Performance Computing clusters for batch processing.</span></span>

<span data-ttu-id="005f3-214">[Power BI](/power-bi/?WT.mc_id=gridbank-docs-dastarr) は、分析情報を得て共有する目的でリスク アナリストが使用する一連のビジネス分析ツールです。</span><span class="sxs-lookup"><span data-stu-id="005f3-214">[Power BI](/power-bi/?WT.mc_id=gridbank-docs-dastarr) is a suite of business analytics tools risk analysts use to gain and share insights.</span></span>

<span data-ttu-id="005f3-215">[VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbank-docs-dastarr) はインターネット経由でオンプレミス ネットワークを Azure クラウドに延長するものです。</span><span class="sxs-lookup"><span data-stu-id="005f3-215">[VPN Gateway](/azure/vpn-gateway/?WT.mc_id=gridbank-docs-dastarr) extends your on-premises network to the Azure cloud over the Internet.</span></span>

## <a name="conclusion"></a><span data-ttu-id="005f3-216">まとめ</span><span class="sxs-lookup"><span data-stu-id="005f3-216">Conclusion</span></span>

<span data-ttu-id="005f3-217">この記事で取り上げたソリューションは、銀行業務におけるリスク グリッド コンピューティングの手法です。</span><span class="sxs-lookup"><span data-stu-id="005f3-217">The solutions covered in this article are approaches to risk grid computing in banking.</span></span> <span data-ttu-id="005f3-218">Azure 製品/サービスとさまざまな既存のクライアント システム アーキテクチャを考慮すると、他のアーキテクチャが使用されることもあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-218">Other architectures may be used given the rich capabilities of Azure products and services and the various existing client system architectures.</span></span> <span data-ttu-id="005f3-219">その場合でも、Batch にはこの記事で取り上げた長所があり、リスク グリッド コンピューティングのモデルとして理にかなったモデルを提供します。</span><span class="sxs-lookup"><span data-stu-id="005f3-219">Even so, Batch provides a reasonable model for risk grid computing given the advantages laid out in this article.</span></span>

<span data-ttu-id="005f3-220">[オンプレミス ネットワークを Azure に延長する](/azure/architecture/reference-architectures/hybrid-networking/?WT.mc_id=gridbank-docs-dastarr)ことで、オンプレミス ネットワークに既に存在するネットワーク リソースやその他の処理システムに Azure は簡単にアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-220">[Extending the on-premises network to Azure](/azure/architecture/reference-architectures/hybrid-networking/?WT.mc_id=gridbank-docs-dastarr) allows Azure easy access to network resources and other processing systems already present in the on-premises network.</span></span> <span data-ttu-id="005f3-221">オンプレミスのコンピューターが寿命に近づいているなら、ハイブリッド モデルを支えるより、Azure で Batch コンピューティングを全面的に使用する方が理にかなっている場合もあります。</span><span class="sxs-lookup"><span data-stu-id="005f3-221">When on-premises machines are reaching end of life, it may make more sense to use Batch compute entirely in Azure rather than supporting a hybrid model.</span></span>

<span data-ttu-id="005f3-222">ハイブリッド ネットワークを必要とせずに Batch を活用とするもう 1 つの方法は、バッチ ジョブを開始する前に Azure Storage にファイルをアップロードすることです。</span><span class="sxs-lookup"><span data-stu-id="005f3-222">Uploading files to Azure Storage before the Batch job begins is another way to take advantage of Batch without the need for a hybrid network.</span></span> <span data-ttu-id="005f3-223">これは段階的に行うことも、一括実行の開始プロセスとして行うこともできます。</span><span class="sxs-lookup"><span data-stu-id="005f3-223">This could be done incrementally, or as a starting process to the Batch run.</span></span>

<span data-ttu-id="005f3-224">接続方法を選択したら、リスク コンピューティングを開始する論理的な手順は、Azure コンピューティング worker ノードに既存のジョブを配置し、それをテスト環境で実行し、コードを変更する必要があるか確認することになります。</span><span class="sxs-lookup"><span data-stu-id="005f3-224">After selecting a connectivity strategy, a logical place to start with risk compute is placing your existing jobs into Azure compute worker nodes and running them in a test environment to see if any code needs to be changed.</span></span> <span data-ttu-id="005f3-225">選択した言語またはツールで Azure Batch を開始するとき、[この記事の内容が出発点となります](/azure/batch/batch-virtual-network?WT.mc_id=gridbank-docs-dastarr)。</span><span class="sxs-lookup"><span data-stu-id="005f3-225">[This article provides a starting point](/azure/batch/batch-virtual-network?WT.mc_id=gridbank-docs-dastarr) for getting started with Azure Batch in the language or tool of your choice.</span></span>

[<span data-ttu-id="005f3-226">銀行取引におけるリスク グリッド コンピューティングのソリューション ガイド</span><span class="sxs-lookup"><span data-stu-id="005f3-226">Risk Grid Computing in Banking Solution Guide</span></span>](/azure/industry/financial/risk-grid-banking-solution-guide?WT.mc_id=banking-docs-dastarr)
