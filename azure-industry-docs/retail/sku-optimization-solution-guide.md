---
title: Azure ML と分析を使用したコンシューマー ブランドの SKU の最適化
author: scseely
ms.author: scseely
ms.date: 11/20/2019
ms.topic: article
ms.service: industry
description: 小売業界の品揃えの最適化。 AI および ML からの分析情報を使用した SKU の最適化。
ms.openlocfilehash: 22411776e830bb3c71f8c1277b30ec4331a3ef17
ms.sourcegitcommit: 2714a77488c413f01beb169a18acab45663bcfd7
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/21/2019
ms.locfileid: "74308498"
---
# <a name="sku-optimization-for-consumer-brands-solution-guide"></a><span data-ttu-id="61e74-104">コンシューマー ブランドの SKU の最適化のソリューション ガイド</span><span class="sxs-lookup"><span data-stu-id="61e74-104">SKU optimization for consumer brands solution guide</span></span>

## <a name="introduction"></a><span data-ttu-id="61e74-105">はじめに</span><span class="sxs-lookup"><span data-stu-id="61e74-105">Introduction</span></span>

<span data-ttu-id="61e74-106">小売業者とコンシューマー ブランドは、コンシューマーがマーケットプレース内で購入しようとしている適切な製品とサービスを確保することに重点を置いています。</span><span class="sxs-lookup"><span data-stu-id="61e74-106">Retailers and consumer brands are focused on ensuring they have the right products and services that consumers seek to purchase within the marketplace.</span></span> <span data-ttu-id="61e74-107">また、売上を最大限に伸ばすことを検討するときに、ショッピング体験の主要な部分は製品 (または製品の組み合わせ) であるといえるでしょう。</span><span class="sxs-lookup"><span data-stu-id="61e74-107">It is also fair to say, that when looking at maximizing sales, products (or combinations of products) are the major part of the shopping experience.</span></span> <span data-ttu-id="61e74-108">提供の可能性 (在庫) は、常にコンシューマー ブランドにとっての関心事です。</span><span class="sxs-lookup"><span data-stu-id="61e74-108">The availability of offerings—inventory—is a constant concern for consumer brands.</span></span>

<span data-ttu-id="61e74-109">製品の在庫 (SKU の品揃えとも呼ばれます) は、サプライと物流のバリュー チェーンにまたがる複雑なトピックです。</span><span class="sxs-lookup"><span data-stu-id="61e74-109">Product inventory, also known as SKU assortment, is a complex topic that spans the supply and logistics value chain.</span></span> <span data-ttu-id="61e74-110">このドキュメントでは、消費財の観点から、SKU の品揃えを最適化して収益を最大化することの問題について具体的に説明します。</span><span class="sxs-lookup"><span data-stu-id="61e74-110">For this document, we focus specifically on the problem of optimizing SKU assortment to maximize revenue from a consumer goods point of view.</span></span> <span data-ttu-id="61e74-111">SKU の品揃えの最適化のパズルは、次の質問に回答するアルゴリズムを開発することで解決できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-111">The puzzle of SKU assortment optimization can be solved by developing algorithms to answer the following questions:</span></span>

- <span data-ttu-id="61e74-112">特定の市場またはストアで最適に実行されているのはどの SKU か。</span><span class="sxs-lookup"><span data-stu-id="61e74-112">Which SKUs are performing best in a given market or store?</span></span> 
- <span data-ttu-id="61e74-113">そのパフォーマンスに基づいて特定の市場またはストアに割り当てるべき SKU はどれか。</span><span class="sxs-lookup"><span data-stu-id="61e74-113">Which SKUs should be allocated to a given market or store based on their performance?</span></span>
- <span data-ttu-id="61e74-114">より高いパフォーマンスの SKU に置き換える必要があるパフォーマンスが低い SKU はどれか。</span><span class="sxs-lookup"><span data-stu-id="61e74-114">Which SKUs are low performing and should be replaced by higher performing SKUs?</span></span>
- <span data-ttu-id="61e74-115">コンシューマーおよび市場区分について引き出せるその他の分析情報は何か。</span><span class="sxs-lookup"><span data-stu-id="61e74-115">What other insights can we derive about our consumer and market segments?</span></span>

## <a name="automate-decision-making"></a><span data-ttu-id="61e74-116">意思決定の自動化</span><span class="sxs-lookup"><span data-stu-id="61e74-116">Automate decision making</span></span>

<span data-ttu-id="61e74-117">これまで、コンシューマー ブランドでは、SKU ポートフォリオ内の SKU の数を増やすことでコンシューマーの需要に対処していました。</span><span class="sxs-lookup"><span data-stu-id="61e74-117">Traditionally, consumer brands approached consumer demand by increasing the number of SKUs in the SKU portfolio.</span></span> <span data-ttu-id="61e74-118">SKU の数が増え、競合が増加すると、収益の 90% が、ポートフォリオ内の製品 SKU の 10% のみで構成されていると推定されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-118">As the number of SKUs ballooned, and competition increased, it is estimated that 90 percent of revenue is attributed to only 10 percent of product SKUs within the portfolio.</span></span> <span data-ttu-id="61e74-119">通常は、収益の 80% が SKU の 20% からもたらされます。</span><span class="sxs-lookup"><span data-stu-id="61e74-119">Typically, 80 percent of revenue accrues from 20 percent of SKUs.</span></span> <span data-ttu-id="61e74-120">この比率は、収益性を向上させるための候補です。</span><span class="sxs-lookup"><span data-stu-id="61e74-120">And this ratio is a candidate for improving profitability.</span></span> 

<span data-ttu-id="61e74-121">従来の静的なレポート作成方法では、履歴データを活用していますが、これでは分析情報が制限されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-121">Traditional methods of static reporting leverage historical data—which limits insights.</span></span> <span data-ttu-id="61e74-122">よくても、意思決定と実装は手動で行われています。</span><span class="sxs-lookup"><span data-stu-id="61e74-122">At best, decisions are still manually made and implemented.</span></span> <span data-ttu-id="61e74-123">これは人が介入し、処理時間がかかることを意味します。</span><span class="sxs-lookup"><span data-stu-id="61e74-123">This means human intervention and processing time.</span></span> <span data-ttu-id="61e74-124">人工知能 (AI) とクラウド コンピューティングの進化により、さまざまな選択肢と予測を提供する高度な分析を使用することが可能になりました。</span><span class="sxs-lookup"><span data-stu-id="61e74-124">With the advancements of artificial intelligence (AI) and cloud computing, it is possible to use advanced analytics to a provide a range of choices and predictions.</span></span> <span data-ttu-id="61e74-125">この種の自動化により、結果と顧客への対応速度が改善されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-125">This kind of automation improves results and speed-to-customer.</span></span>

## <a name="sku-assortment-optimization"></a><span data-ttu-id="61e74-126">SKU の品揃えの最適化</span><span class="sxs-lookup"><span data-stu-id="61e74-126">SKU assortment optimization</span></span>

<span data-ttu-id="61e74-127">SKU の品揃えソリューションでは、売上データを意味のある詳細な比較に分割することで、何百万もの SKU を処理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="61e74-127">A SKU assortment solution must handle millions of SKUs by segmenting sales data into meaningful and detailed comparisons.</span></span> <span data-ttu-id="61e74-128">ソリューションの目標は、高度な分析を使用して製品の品揃えを調整することで、すべての直販店やストアで売上を最大化することです。</span><span class="sxs-lookup"><span data-stu-id="61e74-128">The goal of the solution is to maximize sales at every outlet or store by tuning product assortment using advanced analytics.</span></span> <span data-ttu-id="61e74-129">2 つ目の目標は、在庫切れをなくし、品揃えを改善することです。</span><span class="sxs-lookup"><span data-stu-id="61e74-129">A second goal is to eliminate out-of-stocks and improve assortments.</span></span> <span data-ttu-id="61e74-130">財政上の目標は、売上を 5 から 10% 増やすことです。</span><span class="sxs-lookup"><span data-stu-id="61e74-130">The fiscal goal is a 5 to ten percent increase in sales.</span></span> <span data-ttu-id="61e74-131">その目標を達成するため、分析情報は次のことを可能にします。</span><span class="sxs-lookup"><span data-stu-id="61e74-131">To that end, insights enable one to:</span></span>

- <span data-ttu-id="61e74-132">SKU ポートフォリオのパフォーマンスを理解して、パフォーマンスの低い SKU を管理する。</span><span class="sxs-lookup"><span data-stu-id="61e74-132">Understand SKU portfolio performance and manage low performers.</span></span>
- <span data-ttu-id="61e74-133">在庫切れを減らすために SKU の配布を最適化する。</span><span class="sxs-lookup"><span data-stu-id="61e74-133">Optimize distribution of SKUs to reduce out-of-stocks.</span></span>
- <span data-ttu-id="61e74-134">新しい SKU が短期戦略および長期戦略をどのようにサポートしているかを理解する。</span><span class="sxs-lookup"><span data-stu-id="61e74-134">Understand how new SKUs support short-term and long-term strategies.</span></span>
- <span data-ttu-id="61e74-135">既存のデータから反復可能でスケーラブル、かつ実用的な分析情報を作成する。</span><span class="sxs-lookup"><span data-stu-id="61e74-135">Create repeatable, scalable, and actionable insights from existing data.</span></span>

## <a name="descriptive-analytics"></a><span data-ttu-id="61e74-136">記述的分析</span><span class="sxs-lookup"><span data-stu-id="61e74-136">Descriptive analytics</span></span>

<span data-ttu-id="61e74-137">記述的モデルでは、データ ポイントを集計し、製品の売上に影響を及ぼす可能性がある要因間のリレーションシップを調べます。</span><span class="sxs-lookup"><span data-stu-id="61e74-137">Descriptive models aggregate data points and explore relationships among factors that may influence product sales.</span></span> <span data-ttu-id="61e74-138">この情報は、場所、天気、国勢調査のデータなど、いくつかの外部データ ポイントを使用して拡張することもできます。視覚化は、人がデータを解釈して分析情報を得るのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="61e74-138">The information may be augmented with some external data points, such as location, weather, census data etc. Visualizations help a person derive insights by interpreting the data.</span></span> <span data-ttu-id="61e74-139">ただし、データの更新頻度にもよりますが、この方法では、前の販売サイクルで何が起こったか、または現期間で何が起こっているかを理解することしかできません。</span><span class="sxs-lookup"><span data-stu-id="61e74-139">In doing so, however, the person is limited to understanding what happened over the previous sales cycle, or possibly what is happening in the current period (depending on how often the data is refreshed).</span></span>

<span data-ttu-id="61e74-140">たとえば、ある期間でパフォーマンスが最も高かった SKU と最も低かった SKU を把握するこのケースでは、従来のデータ ウェアハウスとレポートのアプローチで十分です。</span><span class="sxs-lookup"><span data-stu-id="61e74-140">A traditional data warehousing and reporting approach is sufficient in this case to understand, for instance, what SKUs have been the best and worst performers over a period of time.</span></span>

<span data-ttu-id="61e74-141">次の図は、売上の履歴データの一般的なレポートを示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-141">The figure below shows a typical report of historical data—sales data.</span></span> <span data-ttu-id="61e74-142">これには、条件を選択して結果をフィルターするためのチェック ボックスを備えた複数のブロックが使用されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-142">It features several blocks with check boxes to select criteria to filter the results.</span></span> <span data-ttu-id="61e74-143">中央には、時間の経過と共に売上を表示する 2 つの棒グラフが示されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-143">The center shows two bar charts that show sales over time.</span></span> <span data-ttu-id="61e74-144">最初のグラフでは、週単位の平均売上が示されており、2 つ目のグラフには、週単位の数量が示されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-144">The first chart shows the average sales by week; the second shows quantities by week.</span></span>

 ![売上の履歴データを示すダッシュボードの例。](assets/sku-optimization-solution-guide/sku-max-model.png)
  
## <a name="predictive-analytics"></a><span data-ttu-id="61e74-146">予測分析</span><span class="sxs-lookup"><span data-stu-id="61e74-146">Predictive Analytics</span></span>

<span data-ttu-id="61e74-147">履歴レポートは、何が起こっているかを把握するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="61e74-147">Historical reporting is useful to understand what has happened.</span></span> <span data-ttu-id="61e74-148">最終的には、発生する可能性があることを予測します。</span><span class="sxs-lookup"><span data-stu-id="61e74-148">Ultimately, we want a forecast of what is likely to happen.</span></span> <span data-ttu-id="61e74-149">過去の情報は、そうした目的に役立つ場合があります。</span><span class="sxs-lookup"><span data-stu-id="61e74-149">Past information may be useful for that purpose.</span></span> <span data-ttu-id="61e74-150">たとえば、季節的傾向を特定できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-150">For example, we can identify seasonal trends.</span></span> <span data-ttu-id="61e74-151">しかし、新製品の導入をモデル化するための "What-if" シナリオなどをカバーすることはできません。</span><span class="sxs-lookup"><span data-stu-id="61e74-151">But it can’t cover “what-if” scenarios—for example, to model the introduction of a new product.</span></span> <span data-ttu-id="61e74-152">そのためには、顧客の行動のモデル化に焦点を移す必要があります。これが売上を左右する最終的な要因だからです。</span><span class="sxs-lookup"><span data-stu-id="61e74-152">To do that, we must shift our focus to modelling customer behavior, as that is the ultimate factor that determines sales.</span></span>

### <a name="an-in-depth-look-at-the-problem-choice-models"></a><span data-ttu-id="61e74-153">問題の詳細: モデルの選択</span><span class="sxs-lookup"><span data-stu-id="61e74-153">An in-depth look at the problem: choice models</span></span>

<span data-ttu-id="61e74-154">まず、探しているものと持っているデータを定義することから始めます。</span><span class="sxs-lookup"><span data-stu-id="61e74-154">Let’s start by defining what we are looking for and what data we have:</span></span>

<span data-ttu-id="61e74-155">品揃えの最適化は、予想収益を最大化する、販売する製品のサブセットを見つけることを意味します。</span><span class="sxs-lookup"><span data-stu-id="61e74-155">Assortment optimization means finding a subset of products to put on sale that will maximize the expected revenue.</span></span> <span data-ttu-id="61e74-156">これが探しているものです。</span><span class="sxs-lookup"><span data-stu-id="61e74-156">This is what we are looking for.</span></span>

<span data-ttu-id="61e74-157">**トランザクション データ**は、財務目的で定期的に収集されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-157">**Transaction data** is routinely collected for financial purposes.</span></span> 

<span data-ttu-id="61e74-158">**品揃えデータ**には、SKU に関連するすべてのものが含まれる可能性があります。必要な内容の例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="61e74-158">**Assortment data** includes potentially everything that pertains to SKUs: Here’s an example of what we want:</span></span> 

- <span data-ttu-id="61e74-159">SKU の数</span><span class="sxs-lookup"><span data-stu-id="61e74-159">the number of SKUs</span></span>
- <span data-ttu-id="61e74-160">SKU の説明</span><span class="sxs-lookup"><span data-stu-id="61e74-160">SKU descriptions</span></span>
- <span data-ttu-id="61e74-161">割り当てられた数量</span><span class="sxs-lookup"><span data-stu-id="61e74-161">quantities allocated</span></span>
- <span data-ttu-id="61e74-162">SKU と購入した数量</span><span class="sxs-lookup"><span data-stu-id="61e74-162">SKU and quantity purchased</span></span>
- <span data-ttu-id="61e74-163">イベント (購入など) のタイムスタンプ</span><span class="sxs-lookup"><span data-stu-id="61e74-163">time stamps of events (for example, purchase)</span></span>
- <span data-ttu-id="61e74-164">SKU 価格</span><span class="sxs-lookup"><span data-stu-id="61e74-164">SKU price</span></span>
- <span data-ttu-id="61e74-165">POS の SKU 価格</span><span class="sxs-lookup"><span data-stu-id="61e74-165">SKU price at POS</span></span>
- <span data-ttu-id="61e74-166">任意の時点でのすべての SKU の在庫レベル</span><span class="sxs-lookup"><span data-stu-id="61e74-166">stock level of every SKU at any point in time</span></span>

<span data-ttu-id="61e74-167">残念ながら、こうしたデータはトランザクション データほど確実に収集されません。</span><span class="sxs-lookup"><span data-stu-id="61e74-167">Unfortunately, such data isn’t collected as reliably as transaction data.</span></span> 

<span data-ttu-id="61e74-168">このドキュメントでは、わかりやすくするため、外部要因は考慮せず、トランザクション データと SKU データのみを考慮します。</span><span class="sxs-lookup"><span data-stu-id="61e74-168">In this document, for simplicity we will only consider transaction data and SKU data, not external factors.</span></span>

<span data-ttu-id="61e74-169">その場合でも、n 個の製品がある場合、2n の考えられる品揃えがあることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-169">Even so note that, given a set of n products, there are 2n possible assortments.</span></span> <span data-ttu-id="61e74-170">これにより、最適化の問題がコンピューターに高い負荷のかかるプロセスになります。</span><span class="sxs-lookup"><span data-stu-id="61e74-170">This makes the optimization problem a computationally intensive process.</span></span> <span data-ttu-id="61e74-171">製品数が多い場合には、考えられるすべての組み合わせを評価することは実用的ではありません。</span><span class="sxs-lookup"><span data-stu-id="61e74-171">Evaluating all possible combinations is impractical with a large number of products.</span></span> <span data-ttu-id="61e74-172">そのため、通常は、品揃えをカテゴリ (穀物など)、場所、およびその他の条件で分割して、変数の数を減らします。</span><span class="sxs-lookup"><span data-stu-id="61e74-172">So typically, assortments are segmented by category (for example, cereals), location and other criteria to reduce the number of variables.</span></span> <span data-ttu-id="61e74-173">最適化モデルは、実行可能なサブセットにするために順列の数を "削る" ことを試みます。</span><span class="sxs-lookup"><span data-stu-id="61e74-173">Optimization models try to “prune” the number of permutations to a workable subset.</span></span>

<span data-ttu-id="61e74-174">問題の最も重要な点は、効果的に**コンシューマーの行動をモデリング**できるかどうかです。</span><span class="sxs-lookup"><span data-stu-id="61e74-174">The crux of the problem rests in **modelling the behavior of consumers** effectively.</span></span> <span data-ttu-id="61e74-175">コンシューマーに提示される製品が、コンシューマーが購入したいものと一致するのが理想です。</span><span class="sxs-lookup"><span data-stu-id="61e74-175">In a perfect world, the products presented to them will match those that they want to buy.</span></span>

<span data-ttu-id="61e74-176">コンシューマーの選択を予測する数学的モデルは、数十年にわたって開発されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-176">Mathematical models to predict consumers’ choice have been developed over the course of decades.</span></span> <span data-ttu-id="61e74-177">最適な実装テクノロジを最終的に決定するのは、モデルの選択です。そのため、ここではその概要を説明し、いくつかの考慮事項を提供します。</span><span class="sxs-lookup"><span data-stu-id="61e74-177">The choice of model will ultimately determine the most suitable implementation technology; therefore, we’ll summarize them and offer a few considerations.</span></span>

## <a name="parametric-models"></a><span data-ttu-id="61e74-178">パラメトリック モデル</span><span class="sxs-lookup"><span data-stu-id="61e74-178">Parametric Models</span></span>

<span data-ttu-id="61e74-179">パラメトリック モデルは、関数と有限のパラメーターを使用して顧客の行動を見積もります。</span><span class="sxs-lookup"><span data-stu-id="61e74-179">Parametric models approximate customer behavior by using a function with a finite set of parameters.</span></span> <span data-ttu-id="61e74-180">データに最適なパラメーターのセットを自由に見積もります。</span><span class="sxs-lookup"><span data-stu-id="61e74-180">We estimate the set of parameters to best fit the data at our disposal.</span></span> <span data-ttu-id="61e74-181">最も古く最もよく知られているものの 1 つが、[多項ロジスティック回帰](https://en.wikipedia.org/wiki/Multinomial_logistic_regression) (MNL、多クラス ロジット、ソフトマックス回帰とも呼ばれます) です。</span><span class="sxs-lookup"><span data-stu-id="61e74-181">One of the oldest and best known is [Multinomial Logistic Regression](https://en.wikipedia.org/wiki/Multinomial_logistic_regression) (aka MNL, multi-class logit, or softmax regression).</span></span> <span data-ttu-id="61e74-182">これは分類の問題で考えられる複数の結果の確率の計算に使用されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-182">It is used to compute the probabilities of several possible outcomes in classification problems.</span></span> <span data-ttu-id="61e74-183">このケースでは、MNL を使用して計算できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-183">In this case, you can use MNL to compute:</span></span>

- <span data-ttu-id="61e74-184">品揃え (a) 内のそのカテゴリの品目のセットが顧客 (v) にとって既知の有用性を持つ場合、コンシューマー (c) が特定の時点 (t) で品目 (i) を選ぶ確率。</span><span class="sxs-lookup"><span data-stu-id="61e74-184">The probability that a consumer (c) chooses an item (i) at a specific time (t), given a set of items of that category in an assortment (a) with a known utility to the customer (v).</span></span> 

<span data-ttu-id="61e74-185">品目の有用性がその機能の関数であることをも想定しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-185">We also assume that the utility of an item can be a function of its features.</span></span> <span data-ttu-id="61e74-186">有用性の測定には外部情報も含めることができます (雨が降ると傘の有用性が高まるなど)。</span><span class="sxs-lookup"><span data-stu-id="61e74-186">External information may also be included in the measure of utility (for example, an umbrella is more useful when it rains).</span></span>

<span data-ttu-id="61e74-187">パラメーターの見積もりと結果の評価における MNL の取り扱いやすさにより、Microsoft ではその他のモデルのベンチマークとして MNL をしばしば使用しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-187">We often use MNL as a benchmark for other models because of its tractability in estimation of parameters and evaluation of results.</span></span> <span data-ttu-id="61e74-188">つまり、MNL よりも悪い場合は、そのアルゴリズムは役に立たないということです。</span><span class="sxs-lookup"><span data-stu-id="61e74-188">In other words, if you do worse than MNL, your algorithm is of no use.</span></span>
<span data-ttu-id="61e74-189">いくつかのモデルは MNL から派生されていますが、それらについてはこのドキュメントでは取り扱いません。</span><span class="sxs-lookup"><span data-stu-id="61e74-189">Several models have been derived from MNL, but it is beyond the scope of this paper to discuss them.</span></span> 

<span data-ttu-id="61e74-190">R および Python プログラミング言語用のライブラリがあります。</span><span class="sxs-lookup"><span data-stu-id="61e74-190">There are libraries for the R and Python programming languages.</span></span> <span data-ttu-id="61e74-191">R には、glm (および派生物) を使用できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-191">For R, you might use glm (and derivatives).</span></span>  <span data-ttu-id="61e74-192">Python には、[scikit-learn](http://scikit-learn.org/stable/)、[biogeme](http://biogeme.epfl.ch/)、[larch](https://pypi.org/project/larch/) があります。</span><span class="sxs-lookup"><span data-stu-id="61e74-192">For Python, there are [scikit-learn](http://scikit-learn.org/stable/), [biogeme](http://biogeme.epfl.ch/), and [larch](https://pypi.org/project/larch/).</span></span> <span data-ttu-id="61e74-193">これらのライブラリでは、MNL の問題を指定するツールと、さまざまなプラットフォームでソリューションを検索する並列ソルバーが提供されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-193">These libraries offer tools to specify MNL problems, and parallel solvers to find solutions on a variety of platforms.</span></span>

<span data-ttu-id="61e74-194">最近では、別の方法では解決困難になる可能性がある多くのパラメーターを持つ複雑なモデルを計算するため、GPU に MNL モデルを実装することが提案されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-194">Most recently, implementation of MNL models on GPUs have been proposed to compute complex models with a number of parameters that would make them intractable otherwise.</span></span>

<span data-ttu-id="61e74-195">大きな多クラスの問題では、ソフトマックス出力層を持つニューラル ネットワークが効果的に使用されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-195">Neural networks with a softmax output layer have been used effectively on large multi-class problems.</span></span> <span data-ttu-id="61e74-196">これらのネットワークでは、多くの異なる結果の確率分布を表す出力のベクターが生成されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-196">These networks produce a vector of outputs that represent a probability distribution over a number of different outcomes.</span></span> <span data-ttu-id="61e74-197">これらは他の実装と比べるとトレーニングに時間がかかりますが、多くのクラスとパラメーターを処理することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-197">They are slow to train compared to other implementations, but can handle a large number of classes and parameters.</span></span> 

## <a name="non-parametric-models"></a><span data-ttu-id="61e74-198">ノンパラメトリック モデル</span><span class="sxs-lookup"><span data-stu-id="61e74-198">Non-Parametric Models</span></span>

<span data-ttu-id="61e74-199">MNL はその人気に関わらず、いくつかの重要な想定をその有用性を制限する可能性のある人間の行動に置いています。</span><span class="sxs-lookup"><span data-stu-id="61e74-199">Despite its popularity, MNL places some significant assumptions on human behavior that may limit its usefulness.</span></span> <span data-ttu-id="61e74-200">具体的には、ある人が 2 つの選択肢から選択する相対的な確率が、その後のセットで導入された追加の代替策とは独立していることを想定しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-200">In particular, it assumes that the relative probability of someone choosing between two options is independent of additional alternatives introduced in the set later.</span></span> <span data-ttu-id="61e74-201">多くの場合、これは実用的ではありません。</span><span class="sxs-lookup"><span data-stu-id="61e74-201">That is impractical in most cases.</span></span>

<span data-ttu-id="61e74-202">たとえば、製品 "A" と "B" を同じくらい気に入っている場合、一方を選択する確率は 50% です。</span><span class="sxs-lookup"><span data-stu-id="61e74-202">For instance, if you like product "A” and product “B” equally, you will choose one over the other 50% of the time.</span></span> <span data-ttu-id="61e74-203">製品 "C" を混ぜてみましょう。</span><span class="sxs-lookup"><span data-stu-id="61e74-203">Let’s introduce product “C” to the mix.</span></span> <span data-ttu-id="61e74-204">"A" を選択する確率はまだ 50% かもしれませんが、優先順位が "B" と "C" で分割され、確率が 25% ずつになります。</span><span class="sxs-lookup"><span data-stu-id="61e74-204">You may still choose “A” 50% of the time, but now you split your preference 25% to “B” and 25% to “C.”</span></span> <span data-ttu-id="61e74-205">相対的確率が変更されました。</span><span class="sxs-lookup"><span data-stu-id="61e74-205">The relative probability has changed.</span></span>

<span data-ttu-id="61e74-206">また、MNL やそこから派生したものに、在庫切れによる代替品や品揃えの多様性を考慮する簡単な方法はありません (つまり、明確なアイデアがない場合は、在庫の中からランダムに品目を選択します)。</span><span class="sxs-lookup"><span data-stu-id="61e74-206">Also, MNL and derivatives have no simple way to account for substitution due to stock-out or assortment variety (that is, when you have no clear idea and pick a random item among those on the shelf).</span></span>
<span data-ttu-id="61e74-207">ノンパラメトリック モデルは、代替品を考慮し、顧客の行動に課される制約を減らすために設計されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-207">Non-parametric models are designed to account for substitution and impose fewer constraints on customer behavior.</span></span> 

<span data-ttu-id="61e74-208">モデルには、コンシューマーが品揃え内の製品に対して厳密な優先順位を表す "順位付け" の概念が導入されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-208">They introduce the concept of “ranking”—where consumers express a strict preference for products in an assortment.</span></span> <span data-ttu-id="61e74-209">したがって、コンシューマーの購買行動は、製品を優先順位の降順で並べ替えることでモデル化できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-209">Their purchasing behavior can therefore be modelled by sorting the products in descending order of preference.</span></span> 

<span data-ttu-id="61e74-210">品揃えの最適化の問題は、収益の最大化として表現できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-210">The assortment optimization problem can be expressed as maximization of revenue:</span></span>

<center><img style="float: center;" src="assets/sku-optimization-solution-guide/assortment-optimization-problem.png" width="150"/></center>
 
- <span data-ttu-id="61e74-211">$r_i$ は製品 i の収益を表します。</span><span class="sxs-lookup"><span data-stu-id="61e74-211">$r_i$ denotes the revenue of product i</span></span> 
- <span data-ttu-id="61e74-212">製品 i が順位付け k で選択される場合、$y_i^k$ は 1 で、それ以外の場合は 0 です。</span><span class="sxs-lookup"><span data-stu-id="61e74-212">$y_i^k$ is 1 if the product i is chosen in ranking k, 0 otherwise</span></span>  
- <span data-ttu-id="61e74-213">$\lambda_k$ は、顧客が順位付け k に従って選択する確率です。</span><span class="sxs-lookup"><span data-stu-id="61e74-213">$\lambda_k$ is the probability that the customer makes a choice according to ranking k</span></span>
- <span data-ttu-id="61e74-214">製品が品揃えに含まれる場合、$x_i$ は 1 で、それ以外の場合は 0 です。</span><span class="sxs-lookup"><span data-stu-id="61e74-214">$x_i$ is 1 if the product is included in the assortment, 0 otherwise</span></span>
- <span data-ttu-id="61e74-215">K は順位付けの数です。</span><span class="sxs-lookup"><span data-stu-id="61e74-215">K is the number of rankings</span></span> 
- <span data-ttu-id="61e74-216">n は製品の数です。</span><span class="sxs-lookup"><span data-stu-id="61e74-216">n is the number of products</span></span>

<span data-ttu-id="61e74-217">制約の対象:</span><span class="sxs-lookup"><span data-stu-id="61e74-217">subject to constraints:</span></span>

- <span data-ttu-id="61e74-218">各順位付けに対して 1 つだけ選択できる</span><span class="sxs-lookup"><span data-stu-id="61e74-218">there can be exactly 1 choice for each ranking</span></span>
- <span data-ttu-id="61e74-219">順位付け k の下では、製品 i を選択できるのは、それが品揃えに含まれている場合のみ</span><span class="sxs-lookup"><span data-stu-id="61e74-219">under a ranking k, a product i can be chosen only if it is part of the assortment</span></span>
- <span data-ttu-id="61e74-220">製品 i が品揃えに含まれている場合、順位付け k でそれより優先順位が低い選択肢を選択することはできない</span><span class="sxs-lookup"><span data-stu-id="61e74-220">if a product i is included in the assortment, none of the less preferable options in ranking k can be chosen</span></span> 
- <span data-ttu-id="61e74-221">購入なしは選択肢の 1 つであるため、順位付けで優先順位が低い選択肢を選択することはできない</span><span class="sxs-lookup"><span data-stu-id="61e74-221">no-purchase is an option, and as such none of the less preferable options in a ranking can be chosen</span></span>

<span data-ttu-id="61e74-222">このような公式化では、問題は[混合整数最適化](https://en.wikipedia.org/wiki/Integer_programming)と見なすことができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-222">In such a formulation, the problem can be regarded as a [mixed-integer optimization](https://en.wikipedia.org/wiki/Integer_programming).</span></span>

<span data-ttu-id="61e74-223">n 個の製品がある場合、選択しないという選択肢を含めた考えられる順位付けの最大数は、階乗 (n+1)! であることについて考えてみましょう。</span><span class="sxs-lookup"><span data-stu-id="61e74-223">Let us consider that if there are n products, the maximum number of possible rankings, including the no-choice option, is factorial: (n+1)!</span></span>

<span data-ttu-id="61e74-224">公式化における制約により考えられる選択肢の比較的効率的な排除 (たとえば、最も優先順位の高い選択肢が選択されて、1 に設定され、残りが 0 に設定される) が可能になりますが、選択可能な代替品の数を考えると、実装のスケーラビリティが重要になることが想像できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-224">Although the constraints in the formulation allow for a relatively efficient pruning of the possible    options (for instance only the most preferable option is chosen and set to 1, the rest are set to 0), you can imagine that scalability of the implementation will be important, given the number of possible alternatives.</span></span>

### <a name="the-importance-of-data"></a><span data-ttu-id="61e74-225">データの重要度</span><span class="sxs-lookup"><span data-stu-id="61e74-225">The importance of data</span></span>

<span data-ttu-id="61e74-226">売上データがすぐに使用できることは既に説明しました。</span><span class="sxs-lookup"><span data-stu-id="61e74-226">We mentioned before that sales data are readily available.</span></span> <span data-ttu-id="61e74-227">それらを使用して、品揃えの最適化モデルに情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="61e74-227">We want to use them to inform our assortment optimization model.</span></span> <span data-ttu-id="61e74-228">具体的には、確率分布 λ を見つけます。</span><span class="sxs-lookup"><span data-stu-id="61e74-228">In particular, we want to find our probability distribution λ.</span></span>

<span data-ttu-id="61e74-229">POS システムからの売上データは、タイムスタンプ付きのトランザクションと、その時と場所で顧客に表示される製品のセットで構成されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-229">The sales data from the point of sales system will consist of transactions with time stamps and of a set of products shown to customers at that time and location.</span></span> <span data-ttu-id="61e74-230">これらから、実際の売上のベクターを構築できます。この要素は vi で、m は既定の品揃え $S_m$ で品目 i の顧客への販売確率を表します。</span><span class="sxs-lookup"><span data-stu-id="61e74-230">From those, we can construct a vector of actual sales, whose elements vi,m represent the probability of selling item i to a customer given an assortment $S_m$</span></span>

<span data-ttu-id="61e74-231">マトリックスを構築することもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-231">We can also construct a matrix:</span></span>

<center><img style="float: center;" src="assets/sku-optimization-solution-guide/matrix-construction.png" width="300"/></center>

<span data-ttu-id="61e74-232">売上データを仮定して確率分布 λ を見つけることは、別の最適化の問題になります。</span><span class="sxs-lookup"><span data-stu-id="61e74-232">Finding our probability distribution λ given our sales data becomes another optimization problem.</span></span> <span data-ttu-id="61e74-233">売上の予測ミスを最小限に抑えるため、ベクター λ を見つけます。</span><span class="sxs-lookup"><span data-stu-id="61e74-233">We want to find a vector λ to minimize our sales estimate error:</span></span>

<span data-ttu-id="61e74-234">$$min_\lambda|\Lambda\lambda - v|$$</span><span class="sxs-lookup"><span data-stu-id="61e74-234">$$min_\lambda|\Lambda\lambda - v|$$</span></span>

<span data-ttu-id="61e74-235">計算は回帰として表現することもできるため、多変量のデシジョン ツリーのようなモデルを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-235">Note that the computation can also be expressed as a regression, and as such, models like multi-variate decision trees can be used.</span></span> 

## <a name="implementation-details"></a><span data-ttu-id="61e74-236">実装の詳細</span><span class="sxs-lookup"><span data-stu-id="61e74-236">Implementation Details</span></span>

<span data-ttu-id="61e74-237">上記の公式化から差し引くことができるため、最適化モデルはデータドリブンと数値計算の両方になります。</span><span class="sxs-lookup"><span data-stu-id="61e74-237">As we can deduct from the formulation above, optimization models are both data-driven and computation-intensive.</span></span>

<span data-ttu-id="61e74-238">Neal Analytics などの Microsoft パートナーは、これらの条件を満たす堅牢なアーキテクチャを開発しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-238">Microsoft partners, such as Neal Analytics, have developed robust architectures to satisfy those conditions.</span></span> <span data-ttu-id="61e74-239">[最大 SKU](https://appsource.microsoft.com/product/web-apps/neal_analytics.8066ad01-1e61-40cd-bd33-9b86c65fa73a?tab=Overview?WT.mc_id=invopt-article-gmarchet) に関するページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-239">See [SKU Max](https://appsource.microsoft.com/product/web-apps/neal_analytics.8066ad01-1e61-40cd-bd33-9b86c65fa73a?tab=Overview?WT.mc_id=invopt-article-gmarchet).</span></span> <span data-ttu-id="61e74-240">例としてこれらのアーキテクチャを使用し、いくつかの考慮事項を提供します。</span><span class="sxs-lookup"><span data-stu-id="61e74-240">We’ll use those architectures as an example and offer a few considerations.</span></span>

- <span data-ttu-id="61e74-241">まず、これらのアーキテクチャは、(1) モデルをフィードするために堅牢でスケーラブルなデータ パイプラインと、(2) それらを実行するために堅牢でスケーラブルな実行インフラストラクチャに依存しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-241">First, they rely on (1) a robust and scalable data pipeline to feed the models, and on (2) a robust and scalable execution infrastructure to run them.</span></span>
- <span data-ttu-id="61e74-242">次に、ダッシュボードを使用してプランナーが簡単に結果を利用できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-242">Second, the results are easily consumable by planners via a dashboard.</span></span>

<span data-ttu-id="61e74-243">図 2 は、サンプル アーキテクチャを示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-243">Figure 2 shows an example architecture.</span></span> <span data-ttu-id="61e74-244">これには、4 つの主要なブロック (キャプチャ、プロセス、モデル、運用化) が含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-244">It includes four major blocks, capture, process, model, and operationalize.</span></span> <span data-ttu-id="61e74-245">各ブロックには、主要なプロセスが含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-245">Each block contains major processes.</span></span> <span data-ttu-id="61e74-246">キャプチャには "データの前処理" が含まれ、プロセスには "データの格納" 機能が含まれ、モデルには "機械学習モデルのトレーニング" 機能が含まれ、運用化には "データの格納" とレポート オプション (ダッシュボードなど) が含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-246">Capture includes “data preprocessing;” process includes the “store data” function; model includes the “train machine learning model” function; and operationalize includes “store data” and reporting options (such as dashboards).</span></span>

<span data-ttu-id="61e74-247">![キャプチャ、プロセス、モデル、運用化の 4 つの部分で構成されているアーキテクチャ。](assets/sku-optimization-solution-guide/architecture-sku-optimization.png)<center><font size="1">_図 2: SKU 最適化のためのアーキテクチャ: Neal Analytics 提供_</font></center></span><span class="sxs-lookup"><span data-stu-id="61e74-247">![Architecture in four parts: capture, process, model, and operationalize.](assets/sku-optimization-solution-guide/architecture-sku-optimization.png)<center><font size="1">_Figure 2: architecture for SKU optimization—courtesy of Neal Analytics_</font></center></span></span>

## <a name="the-data-pipeline"></a><span data-ttu-id="61e74-248">データ パイプライン</span><span class="sxs-lookup"><span data-stu-id="61e74-248">The data pipeline</span></span>

<span data-ttu-id="61e74-249">このアーキテクチャでは、モデルのトレーニングと操作のためにデータ パイプラインを確立することの重要性が強調されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-249">The architecture highlights the importance of establishing a data pipeline for both training and operations of the model.</span></span> <span data-ttu-id="61e74-250">統合ワークフローを設計して実行できるマネージド ETL (抽出、変換、読み込み) サービスの [Azure Data Factory](https://docs.microsoft.com/azure/data-factory/introduction?WT.mc_id=invopt-article-gmarchet) を使用して、パイプライン内のアクティビティを調整します。</span><span class="sxs-lookup"><span data-stu-id="61e74-250">We orchestrate the activities in the pipeline using [Azure Data Factory](https://docs.microsoft.com/azure/data-factory/introduction?WT.mc_id=invopt-article-gmarchet), a managed extract-transform-load (ETL) service that lets you design and run your integration workflows.</span></span>

<span data-ttu-id="61e74-251">Azure Data Factory は、データセットを使用または生成する (またはその両方) "アクティビティ" と呼ばれるコンポーネントを持つマネージド サービスです。</span><span class="sxs-lookup"><span data-stu-id="61e74-251">Azure Data Factory is a managed service with components called “activities” that consume and/or produce datasets.</span></span>

<span data-ttu-id="61e74-252">アクティビティは以下に分割できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-252">Activities can be split into:</span></span>

- <span data-ttu-id="61e74-253">データ移動 (たとえば、移動元から移動先にコピーする)</span><span class="sxs-lookup"><span data-stu-id="61e74-253">data movement (for example, copying from source to destination)</span></span>
- <span data-ttu-id="61e74-254">データ変換 (たとえば、SQL クエリを使用した集計や、ストアド プロシージャの実行など)</span><span class="sxs-lookup"><span data-stu-id="61e74-254">data transformation (for example, aggregating with a SQL query, or running a stored procedure)</span></span>

<span data-ttu-id="61e74-255">アクティビティのセットをリンクするワークフローは、データ ファクトリ サービスによってスケジュール、監視、管理することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-255">Workflows that link together sets of activities can be scheduled, monitored and managed by the data factory service.</span></span> <span data-ttu-id="61e74-256">完全なワークフローは、"パイプライン" と呼ばれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-256">The complete workflow is known called a “pipeline.”</span></span>

<span data-ttu-id="61e74-257">キャプチャ フェーズでは、(Data Factory に組み込まれている) コピー アクティビティを利用して、さまざまなソース (オンプレミスとクラウドの両方) からデータを Azure SQL Data Warehouse に転送できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-257">In the capture phase, we can leverage the copy activity (built-in to Data Factory) to transfer data from a variety of sources (both on-premises and in the cloud) into Azure SQL Data Warehouse.</span></span> <span data-ttu-id="61e74-258">そのやり方の例については、次のドキュメントに記載されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-258">Examples of how to do that are provided in the documentation:</span></span>

- [<span data-ttu-id="61e74-259">Azure SQL DW をコピー先またはコピー元としてデータをコピーする</span><span class="sxs-lookup"><span data-stu-id="61e74-259">Copy data to or from Azure SQL DW</span></span>](https://docs.microsoft.com/azure/data-factory/connector-azure-sql-data-warehouse?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-260">Azure SQL DW へのデータの読み込み</span><span class="sxs-lookup"><span data-stu-id="61e74-260">Load Data into Azure SQL DW</span></span>](https://docs.microsoft.com/azure/data-factory/load-azure-sql-data-warehouse?WT.mc_id=invopt-article-gmarchet)

<span data-ttu-id="61e74-261">次の図は、パイプラインの定義を示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-261">The figure below shows the definition of a pipeline.</span></span> <span data-ttu-id="61e74-262">これは同じサイズの連続する 3 つのブロックで構成されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-262">It consists of three equally-sized three blocks in a row.</span></span> <span data-ttu-id="61e74-263">最初の 2 つはデータセットとアクティビティで、データ フローを示す矢印で接続されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-263">The first two are a data set and an activity connected by arrows to indicate data flows.</span></span> <span data-ttu-id="61e74-264">3 番目のブロックは、"パイプライン" というラベルが付いており、カプセル化を示すため、最初の 2 つを単にポイントしています。</span><span class="sxs-lookup"><span data-stu-id="61e74-264">The third block is labeled “pipeline” and simply points to the first two to indicate encapsulation.</span></span> 

 <span data-ttu-id="61e74-265">![Azure Data Factory の概念: アクティビティのパイプラインによって消費されるデータセット。](assets/sku-optimization-solution-guide/azure-data-factory.png)<center><font size="1">_図 3:Azure Data Factory の基本的な概念_</font></center></span><span class="sxs-lookup"><span data-stu-id="61e74-265">![Azure Data Factory concepts: datasets consumed by pipeline of activities.](assets/sku-optimization-solution-guide/azure-data-factory.png)<center><font size="1">_Figure 3: Basic concepts of  Azure Data Factory_</font></center></span></span>

<span data-ttu-id="61e74-266">Neal Analytics のソリューションで使用されているデータ形式の例は、Microsoft の Appsource ページで確認できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-266">An example of the data format that is used by Neal Analytics’ solution can be found on Microsoft’s Appsource page.</span></span> <span data-ttu-id="61e74-267">このソリューションには、次のデータセットが含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-267">The solution includes the following datasets:</span></span>

- <span data-ttu-id="61e74-268">ストアと SKU の組み合わせごとの売上履歴データ</span><span class="sxs-lookup"><span data-stu-id="61e74-268">Sales history data for each combination of store and SKU</span></span>
- <span data-ttu-id="61e74-269">ストアとコンシューマーのレコード</span><span class="sxs-lookup"><span data-stu-id="61e74-269">Store and consumer records</span></span>
- <span data-ttu-id="61e74-270">SKU コードと説明</span><span class="sxs-lookup"><span data-stu-id="61e74-270">SKU codes and description</span></span>
- <span data-ttu-id="61e74-271">製品の機能をキャプチャする SKU の属性 (サイズ、素材など)。</span><span class="sxs-lookup"><span data-stu-id="61e74-271">SKU attributes that capture features of the products (for example, size, material).</span></span> <span data-ttu-id="61e74-272">これらは通常、製品のバリアントを区別するためにパラメトリック モデルで使用されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-272">These are typically used in parametric models to differentiate between product variants.</span></span>

<span data-ttu-id="61e74-273">データ ソースが特定の形式で表されない場合、Data Factory によって一連の変換アクティビティが提供されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-273">If the data sources are not expressed in the particular format, Data Factory offers a series of transformation activities.</span></span> 

<span data-ttu-id="61e74-274">プロセスのフェーズでは、SQL Data Warehouse がメイン ストレージ エンジンです。</span><span class="sxs-lookup"><span data-stu-id="61e74-274">In the process phase, SQL Data Warehouse is the main storage engine.</span></span> <span data-ttu-id="61e74-275">そのため、このような変換アクティビティを、パイプラインの一部として自動的に呼び出すことができる SQL ストアド プロシージャとして表すこともできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-275">Therefore, you may want to express such a transformation activity as a SQL stored procedure, which can be automatically invoked as part of the pipeline.</span></span> <span data-ttu-id="61e74-276">詳細な手順は、次のドキュメントに記載されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-276">The documentation provides detailed instructions:</span></span>

- [<span data-ttu-id="61e74-277">SQL ストアド プロシージャを使用したデータの変換</span><span class="sxs-lookup"><span data-stu-id="61e74-277">Transform data with SQL Stored Procedure</span></span>](https://docs.microsoft.com/azure/data-factory/transform-data-using-stored-procedure?WT.mc_id=invopt-article-gmarchet)

<span data-ttu-id="61e74-278">Data Factory により、SQL Data Warehouse および SQL ストアド プロシージャに制限されることはありません。</span><span class="sxs-lookup"><span data-stu-id="61e74-278">Note that Data Factory does not limit you to SQL Data Warehouse and SQL stored procedures.</span></span> <span data-ttu-id="61e74-279">実際には、さまざまなプラットフォームと統合します。</span><span class="sxs-lookup"><span data-stu-id="61e74-279">In fact, it integrates with a variety of platforms.</span></span> <span data-ttu-id="61e74-280">たとえば、変換の代わりに、Databricks の使用を選択して、Python スクリプトを実行することもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-280">You may choose, for instance, to use Databricks and run a Python script instead for transformation.</span></span> <span data-ttu-id="61e74-281">1 つのプラットフォームをストレージと変換、および次の "モデル" フェーズで機械学習アルゴリズムのトレーニングに使用できることは利点です。</span><span class="sxs-lookup"><span data-stu-id="61e74-281">This is an advantage, as you can use one platform for both storage, transformation, and training of machine learning algorithms in the following “model” stage.</span></span>

## <a name="training-the-ml-algorithm"></a><span data-ttu-id="61e74-282">ML アルゴリズムのトレーニング</span><span class="sxs-lookup"><span data-stu-id="61e74-282">Training the ML algorithm</span></span>

<span data-ttu-id="61e74-283">パラメトリック モデルおよびノンパラメトリック モデルを実装するのに役立ついくつかのツールがあります。</span><span class="sxs-lookup"><span data-stu-id="61e74-283">There are several tools that will help you implement parametric and non-parametric models.</span></span> <span data-ttu-id="61e74-284">スケーラビリティとパフォーマンスの要件に応じて選択します。</span><span class="sxs-lookup"><span data-stu-id="61e74-284">Your choice depends on your scalability and performance requirements.</span></span>

<span data-ttu-id="61e74-285">[Azure ML Studio](https://studio.azureml.net/?WT.mc_id=invopt-article-gmarchet) は、プロトタイプ作成に最適なツールです。</span><span class="sxs-lookup"><span data-stu-id="61e74-285">[Azure ML Studio](https://studio.azureml.net/?WT.mc_id=invopt-article-gmarchet) is a great tool for prototyping.</span></span> <span data-ttu-id="61e74-286">コード モジュール (R または Python) またはグラフィック環境で定義済みの ML コンポーネント (多クラス分類子、ブースト デシジョン ツリー回帰など) を使用して、トレーニング ワークフローを構築して実行するための簡単な方法を提供します。</span><span class="sxs-lookup"><span data-stu-id="61e74-286">It provides an easy way for you to build and run a training workflow with your code modules (in R or Python), or with pre-defined ML components (such as multi-class classifiers, boosted decision tree regression) in a graphical environment.</span></span> <span data-ttu-id="61e74-287">また、REST インターフェイスを生成して、数回のクリックでさらに使用するための Web サービスとしてトレーニング済みモデルを公開することもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-287">It also allows you to publish a trained model as a web service for further consumption with a few clicks, generating a REST interface for you.</span></span> 

<span data-ttu-id="61e74-288">ただし、これが処理できるデータ サイズは (現時点では) 10 GB に制限されており、各コンポーネントで使用できるコアの数も (現時点では) 2 個に制限されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-288">However, the data size it can handle is limited to 10 GB (for now) and the number of cores available to each component is also limited to 2 (for now).</span></span>

<span data-ttu-id="61e74-289">次の図は、使用中の ML Studio の例を示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-289">The figure below shows an example of the ML studio in use.</span></span> <span data-ttu-id="61e74-290">これは機械学習の実験をグラフィカルに表示したものです。</span><span class="sxs-lookup"><span data-stu-id="61e74-290">It is a graphical representation of a machine learning experiment.</span></span> <span data-ttu-id="61e74-291">図には、ブロックのいくつかのグループが示されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-291">The figure shows several groups of blocks.</span></span> <span data-ttu-id="61e74-292">ブロックの各セットは、実験の何らかの段階を表しており、データの入力と出力を示すため、各ブロックが 1 つまたは複数のブロックに接続されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-292">Each set of blocks represents some stage in the experiment, and each block is connected to one or more blocks to indicate data input and output.</span></span>

<span data-ttu-id="61e74-293">![使用中の Machine Learning Studio の例。](assets/sku-optimization-solution-guide/ml-training-pipeline-example.png)<center><font size="1">_図 4: R と構築済みのコンポーネントを使用した ML トレーニング パイプラインの例_</font></center></span><span class="sxs-lookup"><span data-stu-id="61e74-293">![Example of machine learning studio in use.](assets/sku-optimization-solution-guide/ml-training-pipeline-example.png)<center><font size="1">_Figure 4: example of ML training pipeline with R and pre-built components_</font></center></span></span>

<span data-ttu-id="61e74-294">さらにスケールする必要があるが、Microsoft の一般的な機械学習アルゴリズム (多項ロジスティック回帰など) の高速な並列実装の一部を引き続き使用したい場合は、Azure Data Science Virtual Machine で実行されている Microsoft ML Server を検討することもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-294">If you need to scale further but still want to use some of Microsoft’s fast, parallel implementation of common machine learning algorithm (such as multinomial logistic regression), you may want to look at Microsoft ML Server running on Azure Data Science Virtual Machine.</span></span>

<span data-ttu-id="61e74-295">非常に大きなデータ サイズ (TB) の場合、ストレージと計算要素が次のことができるプラットフォームを選択することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="61e74-295">For very large data sizes (TBs), it makes sense to choose a platform where the storage and the computation element can:</span></span>

- <span data-ttu-id="61e74-296">モデルをトレーニングしていないときにコストを制限するために個別にスケールできる。</span><span class="sxs-lookup"><span data-stu-id="61e74-296">Scale independently, to limit costs when you are not training the models.</span></span>
- <span data-ttu-id="61e74-297">複数のコアに計算を分散できる。</span><span class="sxs-lookup"><span data-stu-id="61e74-297">Distribute the computation across multiple cores.</span></span>
- <span data-ttu-id="61e74-298">データ移動を制限するため、ストレージの "近く" で計算を実行できる。</span><span class="sxs-lookup"><span data-stu-id="61e74-298">Run the computation “close” to the storage to limit data movement.</span></span>

<span data-ttu-id="61e74-299">Azure [HDInsight](https://azure.microsoft.com/services/hdinsight/?WT.mc_id=invopt-article-gmarchet) と [Databricks](https://azure.microsoft.com/services/databricks/?WT.mc_id=invopt-article-gmarchet) はどちらもこれらの要件を満たしています。</span><span class="sxs-lookup"><span data-stu-id="61e74-299">Azure [HDInsight](https://azure.microsoft.com/services/hdinsight/?WT.mc_id=invopt-article-gmarchet) and [Databricks](https://azure.microsoft.com/services/databricks/?WT.mc_id=invopt-article-gmarchet) both satisfy those requirements.</span></span> <span data-ttu-id="61e74-300">また、どちらも Azure Data Factory エディター内でサポートされている実行プラットフォームです。</span><span class="sxs-lookup"><span data-stu-id="61e74-300">In addition, they are both execution platforms supported within the Azure Data Factory editor.</span></span> <span data-ttu-id="61e74-301">ワークフローでいずれかを統合するのは比較的簡単です。</span><span class="sxs-lookup"><span data-stu-id="61e74-301">It is relatively simple to integrate either one in a workflow.</span></span>

<span data-ttu-id="61e74-302">ML Server とそのライブラリは、HDInsight の一番上に配置できますが、プラットフォーム機能を最大限に活用するため、SparkML、Python で Microsoft ML Spark ライブラリ、または TFoCS、Spark-LP、SolveDF などのその他のリニア プログラミング ソルバーを使用して、最適な ML アルゴリズムを実装することもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-302">ML Server and its libraries can be deployed on top of HDInsight, but to take full advantage of the platform capabilities, you may want to implement your ML algorithm of choice using the SparkML , Microsoft ML Spark libraries in Python, or other specialist linear programming solvers such as TFoCS, Spark-LP or SolveDF.</span></span> 

<span data-ttu-id="61e74-303">トレーニング プロセスの開始すると、Data Factory ワークフローから適切な pySpark スクリプトやノートブックを呼び出せるかが問題になります。</span><span class="sxs-lookup"><span data-stu-id="61e74-303">Starting the training process then becomes a question of invoking the appropriate pySpark script or notebook from a Data Factory workflow.</span></span> <span data-ttu-id="61e74-304">これは、グラフィカル エディターで完全にサポートされます。</span><span class="sxs-lookup"><span data-stu-id="61e74-304">This is fully supported in the graphical editor.</span></span> <span data-ttu-id="61e74-305">詳細については、「[Azure Data Factory で Databricks Notebook アクティビティを使用して Databricks ノートブックを実行する](https://docs.microsoft.com/azure/data-factory/transform-data-using-databricks-notebook?WT.mc_id=invopt-article-gmarchet)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-305">For more details, please see [Run a Databricks notebook with the Databricks Notebook Activity in Azure Data Factory](https://docs.microsoft.com/azure/data-factory/transform-data-using-databricks-notebook?WT.mc_id=invopt-article-gmarchet).</span></span>

<span data-ttu-id="61e74-306">次の図は、Azure portal からアクセスしたときの Data Factory ユーザー インターフェイスを示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-306">The figure below shows the Data Factory user interface, as accessed through the Azure portal.</span></span> <span data-ttu-id="61e74-307">これには、ワークフロー内のさまざまなプロセスのブロックが含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-307">It includes blocks for the various processes in the workflow.</span></span> 

<span data-ttu-id="61e74-308">![Databricks Notebook アクティビティを示す Data Factory インターフェイス。](assets/sku-optimization-solution-guide/data-factory-pipeline-databricks.png)<center><font size="1">_図 5: Databricks Notebook アクティビティを使用した Data Factory パイプラインの例_</font></center></span><span class="sxs-lookup"><span data-stu-id="61e74-308">![Data Factory interface showing databricks notebook activity.](assets/sku-optimization-solution-guide/data-factory-pipeline-databricks.png)<center><font size="1">_Figure 5: example of Data Factory pipeline with Databricks notebook activity_</font></center></span></span>

<span data-ttu-id="61e74-309">また、Microsoft の[インベントリの最適化ソリューション](https://gallery.azure.ai/Solution/Inventory-Optimization-3?WT.mc_id=invopt-article-gmarchet)では、[Azure Batch](https://azure.microsoft.com/services/batch/?WT.mc_id=invopt-article-gmarchet) を通じてスケールされるソルバーのコンテナーベースの実装を提案しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-309">Also note that in our [inventory optimization solution](https://gallery.azure.ai/Solution/Inventory-Optimization-3?WT.mc_id=invopt-article-gmarchet) we propose a container-based implementation of solvers that is scaled via [Azure Batch](https://azure.microsoft.com/services/batch/?WT.mc_id=invopt-article-gmarchet).</span></span> <span data-ttu-id="61e74-310">[pyomo](http://www.pyomo.org/about/) などのスペシャリスト最適化ライブラリでは、最適化の問題を Python プログラミング言語で表現し、[bonmin](https://projects.coin-or.org/Bonmin) (オープン ソース) や [gurobi](http://www.gurobi.com/) (商用) などの独立したソルバーを呼び出して、ソリューションを見つけることができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-310">Specialist optimization libraries such as [pyomo](http://www.pyomo.org/about/) allow you to express an optimization problem in the Python programming language, then invoke independent solvers such as [bonmin](https://projects.coin-or.org/Bonmin) (open source) or [gurobi](http://www.gurobi.com/) (commercial) to find a solution.</span></span>

<span data-ttu-id="61e74-311">在庫最適化のドキュメントでは、品揃えの最適化とは異なる問題 (注文数量) を取り上げていますが、Azure でのソルバーの実装は同じように適用することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-311">The inventory optimization documentation deals with a different problem (order quantities) than assortment optimization, yet the implementation of solvers in Azure is similarly applicable.</span></span>

<span data-ttu-id="61e74-312">この手法はこれまで提案されていたものよりも複雑になりますが、最大限のスケーラビリティが可能になります (主に使用できるコアの量で制限されます)。</span><span class="sxs-lookup"><span data-stu-id="61e74-312">Although more complex than those suggested so far, this technique allows for maximum scalability, limited mostly by the amount of cores you can afford.</span></span>

## <a name="running-the-model-operationalize"></a><span data-ttu-id="61e74-313">モデルの実行 (運用化)</span><span class="sxs-lookup"><span data-stu-id="61e74-313">Running the model (operationalize)</span></span>

<span data-ttu-id="61e74-314">モデルをトレーニングすると、そのモデルを実行するには通常、デプロイに使用したのとは異なるインフラストラクチャが必要になります。</span><span class="sxs-lookup"><span data-stu-id="61e74-314">Once the model has been trained, running it typically requires a different infrastructure than the one used for deployment.</span></span> <span data-ttu-id="61e74-315">簡単に使用できるようにするため、REST インターフェイスを持つ Web サービスとしてモデルをデプロイすることもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-315">In order to make it easily consumable, you may opt to deploy it as a web service with a REST interface.</span></span> <span data-ttu-id="61e74-316">Azure ML Studio と ML Server はどちらも、このようなサービスの作成プロセスを自動化します。</span><span class="sxs-lookup"><span data-stu-id="61e74-316">Both Azure ML Studio and ML Server automate the process of creating such services.</span></span> <span data-ttu-id="61e74-317">ML Server の場合、サポート インフラストラクチャをデプロイするためのテンプレートも提供されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-317">In the case of ML Server, we provide templates for deployment of a supporting infrastructure.</span></span> <span data-ttu-id="61e74-318">関連する[ドキュメント](https://docs.microsoft.com/machine-learning-server/what-is-operationalization?WT.mc_id=invopt-article-gmarchet)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-318">Please see the relevant [documentation](https://docs.microsoft.com/machine-learning-server/what-is-operationalization?WT.mc_id=invopt-article-gmarchet).</span></span>

<span data-ttu-id="61e74-319">次の図は、このデプロイのアーキテクチャを示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-319">The figure below shows the architecture of the deployment.</span></span> <span data-ttu-id="61e74-320">R 言語と Python を実行しているサーバーの表現が含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-320">It includes representations of servers running the R language and Python.</span></span> <span data-ttu-id="61e74-321">どちらのサーバーも、計算を実行する Web ノードのサブ セクションと通信します。</span><span class="sxs-lookup"><span data-stu-id="61e74-321">Both servers communicate to a sub section of web nodes that perform computation.</span></span> <span data-ttu-id="61e74-322">大規模なデータ ストアが計算ブロックに接続されています。</span><span class="sxs-lookup"><span data-stu-id="61e74-322">A large data store is connected to the computation block.</span></span>

<span data-ttu-id="61e74-323">![ML Server のデプロイ図。</span><span class="sxs-lookup"><span data-stu-id="61e74-323">![ML server deployment diagram.</span></span> <span data-ttu-id="61e74-324">複数のノードを実行する前のロード バランサー。](assets/sku-optimization-solution-guide/ml-server-deployment-example.png)<center><font size="1">_図 6: ML Server のデプロイの例_</font></center></span><span class="sxs-lookup"><span data-stu-id="61e74-324">Load balancer before multiple nodes for execution.](assets/sku-optimization-solution-guide/ml-server-deployment-example.png)<center><font size="1">_Figure 6: example of ML server deployment_</font></center></span></span>


<span data-ttu-id="61e74-325">HDInsight または Databricks 上で作成され、そのために Spark 環境 (ライブラリ、並列機能など) に依存するモデルの場合、クラスターでの実行を検討することもできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-325">For models created on HDInsight or Databricks and hence dependent on the Spark environment (libraries, parallel capabilities etc.), you may want to consider running them on a cluster.</span></span> <span data-ttu-id="61e74-326">ガイダンスについては、[こちら](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/spark-model-consumption?WT.mc_id=invopt-article-gmarchet)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-326">Guidance is provided [here](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/spark-model-consumption?WT.mc_id=invopt-article-gmarchet).</span></span>

<span data-ttu-id="61e74-327">これには、スコアリングのために Data Factory パイプラインのアクティビティを通じて、運用モデルそのものを呼び出せるという利点があります。</span><span class="sxs-lookup"><span data-stu-id="61e74-327">This has the advantage that the operational model can itself be invoked via a Data Factory pipeline activity for scoring.</span></span>

<span data-ttu-id="61e74-328">コンテナーを使用するには、モデルをパッケージ化し、それを Azure Kubernetes Service 上にデプロイします。</span><span class="sxs-lookup"><span data-stu-id="61e74-328">To use containers, you can package your models and deploy them on Azure Kubernetes Service.</span></span> <span data-ttu-id="61e74-329">プロトタイプでは、[Azure Data Science VM](https://azure.microsoft.com/services/virtual-machines/data-science-virtual-machines/?WT.mc_id=invopt-article-gmarchet) を使用する必要があります。また、VM に Azure ML [コマンドライン](https://docs.microsoft.com/azure/machine-learning/desktop-workbench/model-management-service-deploy?WT.mc_id=invopt-article-gmarchet) ツールをインストールする必要もあります。</span><span class="sxs-lookup"><span data-stu-id="61e74-329">Prototype will require the use of the [Azure Data Science VM](https://azure.microsoft.com/services/virtual-machines/data-science-virtual-machines/?WT.mc_id=invopt-article-gmarchet); you must also install the Azure ML [command line](https://docs.microsoft.com/azure/machine-learning/desktop-workbench/model-management-service-deploy?WT.mc_id=invopt-article-gmarchet) tools on the VM.</span></span>

## <a name="data-output-and-reporting"></a><span data-ttu-id="61e74-330">データの出力とレポート</span><span class="sxs-lookup"><span data-stu-id="61e74-330">Data Output and Reporting</span></span>

<span data-ttu-id="61e74-331">デプロイすると、モデルで金融取引のワークフローや在庫の読み取りを処理して、最適な品揃えの予測を生成できるようになります。</span><span class="sxs-lookup"><span data-stu-id="61e74-331">Once deployed, the model will be able to process financial transaction workflows and stock readings to generate optimal assortment predictions.</span></span> <span data-ttu-id="61e74-332">そのため、生成されたデータをさらに詳しく分析するために、Azure SQL Data Warehouse に戻して格納することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-332">The data thus produced can be stored back into Azure SQL Data Warehouse for further analysis.</span></span> <span data-ttu-id="61e74-333">具体的には、最大の収入源と損失源を識別することで、さまざまな SKU のパフォーマンスの履歴を調査できるようになります。</span><span class="sxs-lookup"><span data-stu-id="61e74-333">In particular, it will be possible to study historical performance of various SKUs, identifying the best revenue generators and the loss-makers.</span></span> <span data-ttu-id="61e74-334">その後、これらをモデルから提案された品揃えと比較して、パフォーマンスと再トレーニングの必要性を評価することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-334">You’ll then be able to compare those against the assortments suggested by the models and evaluate performance, and the need for re-training.</span></span>

<span data-ttu-id="61e74-335">[PowerBI](https://powerbi.microsoft.com/get-started/?&OCID=AID719832_SEM_uhlWLg3x&lnkd=Google_PowerBI_Brand&gclid=CjwKCAjw5ZPcBRBkEiwA-avvkyOLMJCrhqH8iac84aLX7EcUQIirSSqUCostzGi8y_XntJTCD73ZixoCQ4sQAvD_BwE?WT.mc_id=invopt-article-gmarchet) では、プロセスで生成されたデータを分析して表示する方法が提供されます。</span><span class="sxs-lookup"><span data-stu-id="61e74-335">[PowerBI](https://powerbi.microsoft.com/get-started/?&OCID=AID719832_SEM_uhlWLg3x&lnkd=Google_PowerBI_Brand&gclid=CjwKCAjw5ZPcBRBkEiwA-avvkyOLMJCrhqH8iac84aLX7EcUQIirSSqUCostzGi8y_XntJTCD73ZixoCQ4sQAvD_BwE?WT.mc_id=invopt-article-gmarchet) provides a way to analyze and display the data produced in the process.</span></span> 

<span data-ttu-id="61e74-336">次の図は、一般的な Power BI ダッシュボードを示しています。</span><span class="sxs-lookup"><span data-stu-id="61e74-336">The figure below shows a typical Power BI dashboard.</span></span> <span data-ttu-id="61e74-337">SKU の在庫情報を表示する 2 つのグラフが含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-337">It includes two graphs that show SKU stock information.</span></span> 

<span data-ttu-id="61e74-338">![12 か月間の結果を示すダッシュボードの例。](assets/sku-optimization-solution-guide/sku-max-model.png)<center><font size="1">_図 7: モデル結果のレポートの例: Neal Analytics 提供_</font></center></span><span class="sxs-lookup"><span data-stu-id="61e74-338">![Example of a dashboard showing results over 12 months.](assets/sku-optimization-solution-guide/sku-max-model.png)<center><font size="1">_Figure 7: example of model results report—courtesy of Neal Analytics_</font></center></span></span>

## <a name="security-considerations"></a><span data-ttu-id="61e74-339">セキュリティに関する考慮事項</span><span class="sxs-lookup"><span data-stu-id="61e74-339">Security Considerations</span></span>

<span data-ttu-id="61e74-340">機密データを処理するソリューションには、財務記録、在庫レベル、価格情報が含まれています。</span><span class="sxs-lookup"><span data-stu-id="61e74-340">A solution that deals with sensitive data contains financial records, stock levels and price information.</span></span> <span data-ttu-id="61e74-341">このような機密データは保護する必要があります。</span><span class="sxs-lookup"><span data-stu-id="61e74-341">Such sensitive data must be protected.</span></span> <span data-ttu-id="61e74-342">データのセキュリティとプライバシーに関する懸念を緩和するには、次のことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-342">To allay concerns about security and privacy of the data, note that:</span></span>

- <span data-ttu-id="61e74-343">Azure Integration Runtime を使用して、Azure Data Factory パイプラインの一部をオンプレミスで実行できます。</span><span class="sxs-lookup"><span data-stu-id="61e74-343">You can run some of the Azure Data Factory pipeline on premises using Azure Integration Runtime.</span></span> <span data-ttu-id="61e74-344">ランタイムは、オンプレミス ソースとの間でデータ移動アクティビティを実行します。</span><span class="sxs-lookup"><span data-stu-id="61e74-344">The runtime executes data movement activities to/from sources on-premises.</span></span> <span data-ttu-id="61e74-345">また、オンプレミスで実行するためのアクティビティをディスパッチします。</span><span class="sxs-lookup"><span data-stu-id="61e74-345">It will also dispatch activities for execution on premises.</span></span>
  - <span data-ttu-id="61e74-346">具体的には、カスタム アクティビティを開発して、Azure に転送するデータを匿名化 (およびオンプレミスで実行) することができます。</span><span class="sxs-lookup"><span data-stu-id="61e74-346">In particular, you may want to develop a custom activity to anonymize the data to be transferred to Azure (and run it on premises).</span></span>
- <span data-ttu-id="61e74-347">ここで言及したすべてのサービスが、送信および保存時の暗号化をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="61e74-347">All the services mentioned support encryption in transit and at rest.</span></span> <span data-ttu-id="61e74-348">Azure Data Lake にデータを格納する場合、暗号化は既定で有効になります。</span><span class="sxs-lookup"><span data-stu-id="61e74-348">If you opt to store the data on an Azure Data Lake, encryption is enabled by default.</span></span> <span data-ttu-id="61e74-349">Azure SQL Data Warehouse を使用する場合は、Transparent Data Encryption (TDE) を有効にできます。</span><span class="sxs-lookup"><span data-stu-id="61e74-349">If you use Azure SQL Data Warehouse, you can enable transparent data encryption (TDE).</span></span>
- <span data-ttu-id="61e74-350">言及されているすべてのサービス (ML Studio を除く) が、認証と承認のために Azure Active Directory との統合をサポートしています。</span><span class="sxs-lookup"><span data-stu-id="61e74-350">All the services mentioned, with the exception of ML studio, support integration with Azure Active Directory for authentication and authorization.</span></span> <span data-ttu-id="61e74-351">独自のコードを記述する場合、その統合をアプリケーションに組み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="61e74-351">If you write your own code, you must build that integration into your application.</span></span>

<span data-ttu-id="61e74-352">GDPR の詳細については、Microsoft の[コンプライアンス](https://www.microsoft.com/trustcenter?WT.mc_id=invopt-article-gmarchet) ページを参照してください。</span><span class="sxs-lookup"><span data-stu-id="61e74-352">For more information about GDPR, see our [compliance](https://www.microsoft.com/trustcenter?WT.mc_id=invopt-article-gmarchet) page.</span></span>

## <a name="technologies-mentioned"></a><span data-ttu-id="61e74-353">本ドキュメントで言及した技術</span><span class="sxs-lookup"><span data-stu-id="61e74-353">Technologies Mentioned</span></span>

- [<span data-ttu-id="61e74-354">Azure Batch</span><span class="sxs-lookup"><span data-stu-id="61e74-354">Azure Batch</span></span>](https://azure.microsoft.com/services/batch/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-355">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="61e74-355">Azure Active Directory</span></span>](https://azure.microsoft.com/services/active-directory/?&OCID=AID719825_SEM_w1MNAVjn&lnkd=Google_Azure_Brand&gclid=CjwKCAjw5ZPcBRBkEiwA-avvk4bGtyQo11KBY-u2skor1SydsSl1vrYUmhyGhhwyJhDlAYpnMmIcRRoCTfsQAvD_BwE&dclid=CMn6lvfRkd0CFRwBrQYdtIoJOA?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-356">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="61e74-356">Azure Data Factory</span></span>](https://docs.microsoft.com/azure/data-factory/introduction?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-357">Azure Integration Runtime</span><span class="sxs-lookup"><span data-stu-id="61e74-357">Azure Integration Runtime</span></span>](https://docs.microsoft.com/azure/data-factory/concepts-integration-runtime?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-358">HDInsight</span><span class="sxs-lookup"><span data-stu-id="61e74-358">HDInsight</span></span>](https://azure.microsoft.com/services/hdinsight/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-359">Databricks</span><span class="sxs-lookup"><span data-stu-id="61e74-359">Databricks</span></span>](https://azure.microsoft.com/services/databricks/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-360">Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="61e74-360">Azure SQL Data Warehouse</span></span>](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-361">Azure ML Studio</span><span class="sxs-lookup"><span data-stu-id="61e74-361">Azure ML Studio</span></span>](https://studio.azureml.net/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-362">Microsoft ML Server</span><span class="sxs-lookup"><span data-stu-id="61e74-362">Microsoft ML Server</span></span>](https://docs.microsoft.com/machine-learning-server/what-is-machine-learning-server?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-363">Azure Data Science VM</span><span class="sxs-lookup"><span data-stu-id="61e74-363">Azure Data Science VM</span></span>](https://azure.microsoft.com/services/virtual-machines/data-science-virtual-machines/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-364">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="61e74-364">Azure Kubernetes Service</span></span>](https://azure.microsoft.com/services/kubernetes-service/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-365">Microsoft PowerBI</span><span class="sxs-lookup"><span data-stu-id="61e74-365">Microsoft PowerBI</span></span>](https://powerbi.microsoft.com/?WT.mc_id=invopt-article-gmarchet)
- [<span data-ttu-id="61e74-366">Pyomo 最適化モデリング言語</span><span class="sxs-lookup"><span data-stu-id="61e74-366">Pyomo Optimization Modelling Language</span></span>](http://www.pyomo.org/)
- [<span data-ttu-id="61e74-367">Bonmin ソルバー</span><span class="sxs-lookup"><span data-stu-id="61e74-367">Bonmin Solver</span></span>](https://projects.coin-or.org/Bonmin)
- [<span data-ttu-id="61e74-368">Spark 用 TFoCS ソルバー</span><span class="sxs-lookup"><span data-stu-id="61e74-368">TFoCS solver for Spark</span></span>](https://github.com/databricks/spark-tfocs)
