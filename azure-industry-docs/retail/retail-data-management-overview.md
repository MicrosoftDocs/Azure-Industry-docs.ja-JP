---
title: 小売業におけるビッグ データ管理の入門
author: dstarr
ms.author: dastarr
ms.date: 11/20/2019
ms.topic: article
ms.service: industry
description: 小売業者は、貴重な分析情報が得られる可能性のある、使用されていないデータの大規模なデータ ストアを保有しています。 この記事では、Microsoft Azure を活用して、そのデータを効果的に使用する方法について説明します。
ms.openlocfilehash: 198e0f609889eee86e005c5ee56090006ae2a413
ms.sourcegitcommit: 3b175d73a82160c4cacec1ce00c6d804a93c765d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2020
ms.locfileid: "77054118"
---
# <a name="data-management-in-retail-overview"></a>小売業におけるデータ管理の概要

## <a name="introduction"></a>はじめに

データは、優れた小売エクスペリエンスの開発と提供の基礎となります。 データは小売組織のあらゆる側面に存在します。データを使用して、バリュー チェーン全体にわたり、業務実績や顧客の行動に関する分析情報を抽出できるだけでなく、データを活用してサービス エクスペリエンスを向上させることもできます。 オンライン ブラウジングからソーシャル エンゲージメント、店頭購入まで、データは豊富にあります。 ただし、データの収集はデータ管理の一部に過ぎません。 分析用に異種データを結合するには、組織全体でデータを適切に処理する必要があるため、小売業者がビジネスの運営に関する影響力のある意思決定を行う能力を高める必要があります。

たとえば、モバイル ショッピングの成長に伴い、顧客は、小売業者が顧客の購買習慣に関する十分な量のデータを使用して、エクスペリエンスを向上させることを期待するようになりました。 ユース ケースの例として、実店舗内の特定の場所で買物をしているときに、顧客のモバイル デバイスに直接送信されるパーソナライズされた製品や販促品があります。 内容、場所、方法、数量、頻度に関するデータに加え、店舗の製品の在庫状況などの追加情報を活用することで、顧客が対象となる製品の近くで買物をしているときに、顧客のデバイスにリアルタイムの販促メッセージを送信する機会が生まれます。 

データを効果的に使用すると、小売業者はより関連性のあるエクスペリエンスを提供できるため、顧客の購入意欲を高めることができます。たとえば、小売業者は、e コマース Web サイトの割引コードが含まれた通知を顧客に送信できます。  さらに、このデータからアクションにつながる分析情報が得られます。企業のリーダーは、分析情報を基に、データに裏付けられた意思決定を行って方針を定めることができます。

販売促進を行うためのアクションは、データ ポイントの組み合わせによって通知され、顧客の来店によってトリガーされます。 これらの結び付けとその結果であるアクションは、次のようなデータ管理モデルに基づいています。

![プロセス フロー](./assets/retail-data-management-assets/process-flow.png)

図 1

Azure にデータを取り込むときには、データ ソースの 3P と、小売業者が実現を望むシナリオに対する 3P の適用性を検討します。 データ ソースの 3P とは、Purchased (購入)、Public (パブリック)、Proprietary (独自) です。

> **購入**データは、通常、組織の既存のデータを補強および強化します。ほとんどの場合、組織のデータ収集範囲を補完する市場データと人口統計データです。 たとえば、小売業者は追加の人口統計データを購入して顧客マスター レコードを補強することで、レコードを正確かつ完全なものにすることができます。 
>
> **パブリック** データは自由に入手できます。ソーシャル メディア、政府機関のリソース (地理情報など)、その他のオンライン ソースから入手できます。 このデータにより、購入パターンと相関する気象パターンや、特定の地域での製品の人気を示すソーシャル エンゲージメントなどを推測できます。 多くの場合、パブリック データは API を使用して入手できます。
>
> **独自**データは組織内に存在します。 これは、小売業者のオンプレミス システム、SaaS アプリケーション、またはクラウド プロバイダーのデータです。 SaaS アプリケーション プロバイダーのデータや他のベンダー データにアクセスするために、通常は API を使用してベンダーのシステムと通信します。 これには、e コマース サイトのログ、POS 売上データ、在庫管理システムなどのデータが含まれます。

これらの各種データは、データ管理パイプラインによって提供されるさまざまな分析情報に使用されます。

## <a name="ingest"></a>取り込み

最初に、データはネイティブ形式で Azure に読み込まれ、適宜保存されます。 異種データソースの受け取りと管理は難しい可能性がありますが、Microsoft Azure には、データを迅速かつ簡単にクラウドに読み込んで、データ管理パイプラインで処理できるようにするサービスが用意されています。 

Azure には、データの移行に役立つサービスがいくつかあります。 選択は、移行するデータの種類によって異なります。 [Azure Data Migration](/azure/dms/dms-overview?WT.mc_id=retaildm-docs-dastarr) Services for SQL Server と [Azure Import/Export サービス](/azure/storage/common/storage-import-export-service?WT.mc_id=retaildm-docs-dastarr)は、Azure へのデータの取り込みを支援するサービスです。 検討すべき他のデータ イングレス サービスとして、[Azure Data Factory](/azure/data-factory?WT.mc_id=retaildm-docs-dastarr) と [Azure Logic Apps](/azure/logic-apps/?WT.mc_id=retaildm-docs-dastarr) コネクタがあります。 それぞれ独自の機能を備えているので、各サービスを調べて、特定の状況に最適なテクノロジを確認する必要があります。

データ インジェストは、Microsoft のテクノロジに限定されているわけではありません。 小売業者は、[Azure Marketplace](https://azuremarketplace.microsoft.com?WT.mc_id=retaildm-docs-dastarr) を通じて、さまざまなベンダーのデータベースを Azure で構成して、既存のオンプレミス システムと連携させることができます。 

一部のデータは Azure で管理する必要はありません。 たとえば、インターネットの機能停止が販売トランザクションに影響しないように、POS (Point of Sale) データはオンプレミスに保持できます。 分析で使用するために、このデータをキューに登録し、スケジュールに従って (多くの場合、夜間または毎週) Azure にアップロードできますが、常にオンプレミス データを信頼できる情報源として扱います。

## <a name="prepare"></a>準備

分析を開始する前に、データを準備する必要があります。 このデータの整形は、予測モデルの品質を確保し、KPI やデータの関連性を報告するうえで重要です。

分析用のデータを準備するときには、構造化と非構造化の 2 種類のデータに対処します。 構造化データは、既に形式が設定され、フォーマットされているので簡単に処理できます。 ソース形式の構造化データから、分析ジョブにすぐに使用できる構造化データに移行するための単純な変換が必要な場合があります。 通常、非構造化データはより多くの課題をもたらします。 非構造化データは、固定長レコード形式では保存されていません。 例として、ドキュメント、ソーシャル メディア フィード、デジタル画像、動画などがあります。 これらのデータは、構造化データとは異なる方法で管理する必要があります。多くの場合、これらのデータを有効な方法で最終的に適切なデータ ストアに保存できるように、専用のプロセスが必要になります。

データ整形は、準備段階の抽出、変換、読み込み (ETL) プロセス中に行われます。 データは、Azure にインポートされた未変更のデータ ソースから抽出され、必要に応じて "クリーンアップ" または再フォーマットされて、より構造化された新しい形式で保存されます。 一般的な ETL データ準備操作では、.csv または Excel ファイルを Parquet ファイルに変換します。このファイルは、Apache Spark などの機械学習システムで迅速かつ簡単に読み取って処理できます。 もう 1 つの一般的なシナリオでは、.csv ファイルまたは他の形式から XML ファイルまたは JSON を作成します。 これにより、他の分析エンジンで使いやすい形式になります。

Azure には、データを整形するための ETL サービスとして利用できる変換テクノロジがいくつかあります。 オプションとして、[Azure Databricks](/azure/azure-databricks?WT.mc_id=retaildm-docs-dastarr)、[Azure Functions](/azure/azure-functions/?WT.mc_id=retaildm-docs-dastarr)、Logic Apps があります。 Databricks は、Apache Spark のフル マネージド インスタンスであり、データをフォーム間で変換するために使用されます。 Azure Functions は、関数の呼び出しとコードの実行にトリガーを使用するステートレス (または "サーバーレス") 関数です。 Logic Apps はサービスを統合します。

## <a name="store"></a>保存

処理の前のデータの保存を検討する必要があります。 データは、構造化形式または非構造化形式で提供されます。多くの場合、データの構造によって保存先が決まります。 たとえば、高度に構造化されたデータは Azure SQL に適しています。 あまり構造化されていないデータは、Blob Storage、File Storage、または Table Storage に保持できます。

Azure に保存されているデータは、強力なサービス レベル アグリーメント (SLA) に裏付けられた優れたパフォーマンスを備えています。 データ サービスにより、ソリューションの管理、高可用性、複数の地理的な場所をまたいだレプリケーションが容易になります。特に、Azure では、機械学習を促進するために必要なデータ ストアとサービスを提供しています。

構造化データと非構造化データの両方を [Azure Data Lake](/azure/data-lake-store/data-lake-store-overview?WT.mc_id=retaildm-docs-dastarr) に格納し、Azure Data Lake に固有のクエリ言語である [U-SQL](/azure/data-lake-analytics/data-lake-analytics-u-sql-get-started?WT.mc_id=retaildm-docs-dastarr) を使用してクエリを実行できます。 Data Lake に含めることができるデータの例を以下に示します。これらのデータは、一般的な構造化データ ソースと非構造化データ ソースに分けられています。

### <a name="structured-data"></a>構造化データ

- CRM データと他の基幹業務アプリケーション
- POS トランザクション データ
- センサー データ
- リレーショナル データ
- e コマース トランザクション データ

### <a name="unstructured-data"></a>非構造化データ

- ソーシャル フィード
- ビデオ
- デジタル画像
- Web サイトのクリックストリーム分析

価値を創出するために、非構造化データをサポートするユース ケースが増えています。 これは、データ主導型の意思決定の要望と、データの大規模な収集と処理を可能にする AI などのテクノロジの進歩によって推進されています。 たとえば、データに写真やストリーミング ビデオを含めることができます。 ストリーミング ビデオを利用して、顧客が買物で選んだ商品を検出し、シームレスな精算を実現できます。また、製品カタログ データを顧客のお気に入りの服の写真とシームレスにマージして、類似アイテムや推奨アイテムを表示することもできます。 

構造化データの例として、リレーショナル データベースのデータ フィード、センサー データ、Apache Parquet ファイル、e コマース データなどがあります。 これらのデータの固有の構造により、データは機械学習パイプラインに適したものになっています。

Azure Data Lake サービスでは、[Data Lake Analytics](/azure/data-lake-analytics/data-lake-analytics-overview?WT.mc_id=retaildm-docs-dastarr) を使用したリアルタイム分析に加え、バッチ クエリと対話型クエリを実行できます。 また、Data Lake は、非常に大規模なデータ分析ワークロードに特に適しています。 最後に、Data Lake 内のデータは永続的であり、期限はありません。

リレーショナル データベース、Blob Storage、Azure Files ストレージ、Cosmos DB ドキュメント ストレージなどの他のデータ ストアでも、データ管理パイプラインのダウンストリーム分析に対応するクリーンなデータを保持できます。 Data Lake の使用は必須ではありません。

## <a name="analyze"></a>分析

小売業者は、在庫コストの削減などの問題について、機械学習プロセスによって実行される分析を使用できます。

データ分析では、カスタマー エクスペリエンスに関する詳細な分析情報を得るために、機械学習エンジンによって処理するためのデータが準備されます。 このプロセスでは、"学習" し、結果を予測するために将来のデータに適用できるモデルが生成されます。 モデルでは、調査対象のデータと、さまざまなアルゴリズムを使用してデータをどのように分析するかが定義されています。 分析の出力データをデータ視覚化で使用すると、洞察を得るきっかけになる場合があります (小売業者の e コマース プラットフォームで、顧客のウィッシュ リストのアイテムの店内クーポンを提供するなど)。

データ分析は、処理のために保存されているデータを学習エコシステムに提供することによって行われます。 通常、これは、仮想マシン上で実行される Hadoop、Databricks、または自己管理型 Spark インスタンスによって実行される機械学習です。 また、単にデータのクエリを実行することでこれを行うこともできます。 多くの場合、KPI に関する分析情報は、機械学習パイプラインを経由しなくても、クリーンなデータで見つけることができます。

[Hadoop](/azure/hdinsight/hdinsight-hadoop-architecture?WT.mc_id=retaildm-docs-dastarr) は、フル マネージド Azure サービスの [HDInsight](/azure/hdinsight/?WT.mc_id=retaildm-docs-dastarr) に含まれています。 HDInsight は、データ モデルのトレーニング、データ ウェアハウスへのデータの出力、Hive クエリ言語を使用した Hadoop でのクエリの実行に使用される一連のデータ学習ツールです。 HDInsight では、ストリーミング データまたは過去のデータを分析できます。

トレーニングの一環として、さまざまな学習アルゴリズムをデータに適用し、データ モデルを維持することができます。 データ モデルにより、アナリスト向けに生成されるデータの構造が明示的に決定されます。

まず、データがクリーンアップされ、適切に形式が設定されます。 次に、HDInsight や Apache Spark などの機械学習システムによって処理されます。 そのために、既存のデータを使用して、データの分析に使用されるモデルがトレーニングされます。 トレーニングされたモデルは、分析時に精度を高めるために、新しい既知の良好なデータで定期的に更新されます。 機械学習サービスは、このモデルを使用して、処理するデータの分析を実行します。

モデルをトレーニングし、データ分析プロセスを実行したら、機械学習分析によって得られたデータを、データ ウェアハウスや、分析データ用の正規化されたストレージ データベースに格納できます。 Microsoft では、データ ウェアハウス内のデータを詳しく分析するために、完全な機能を備えたデータ分析ツールである [Power BI](/power-bi/?WT.mc_id=retaildm-docs-dastarr) を提供しています。

## <a name="action"></a>アクション

小売業のデータは常に変動しており、データを処理するシステムはタイムリーに処理する必要があります。 たとえば、e コマースの買い物客データは迅速に処理する必要があります。 これは、購入者のカート内のアイテムを使用して、追加のサービスを提供したり、精算プロセス中に追加アイテムを提供できるようにするためです。 この形式のデータ処理と分析はほぼすぐに行う必要があり、通常は "マイクロバッチ" トランザクションを実行するシステムによって実行されます。 つまり、データは、すでに処理されているデータにアクセスできるシステム内で分析され、モデルを介して実行されます。

他の "バッチ" 操作は一定の間隔で実行できますが、ほぼリアルタイムで実行する必要はありません。 バッチ分析がオンプレミスで行われるときには、多くの場合、これらのジョブは夜間、週末、またはリソースが使用されていないときに実行されます。 Azure では、大規模なバッチ ジョブのスケーリングと、それらをサポートするために必要な仮想マシンをいつでも実行できます。

開始するには、次の手順に従います。

1. 実行する分析に価値を提供する、データ ストアのデータ インジェスト プランを作成します。 詳細なデータ同期または移行プランを準備して、データを元の形式で Azure に取り込みます。 

2. アクションにつながる必要な分析情報を決定し、データ処理アクティビティに対応するためのデータ処理パイプラインを選択します。 

3. これらのデータの特徴を考慮し、必要な分析情報を得るための適切なアルゴリズムを使用してデータ処理パイプラインを作成します。

4. 可能であれば、データ ウェアハウスへの出力に共通データ モデルを使用します。これにより、データの最も興味深い特徴を公開できます。 通常、これは、元の Azure ストレージ システム内のデータを読み取り、クリーンアップされたバージョンを別のデータ ストアに書き込むことを意味します。

5. Spark または Hadoop によって提供される機械学習パイプラインを介してデータを処理します。 その後、出力をデータ ウェアハウスに取り込みます。 データを処理するための多くの既定のアルゴリズムがありますが、小売業者は独自のアルゴリズムを実装することもできます。 ML のシナリオに加え、標準データ ストレージにデータを読み込み、共通データ モデルを適用して、KPI データのクエリを実行します。 たとえば、データをスター スキーマや他のデータ ストアに格納できます。

データ アナリストが使用するデータの準備ができたら、アクションにつながる分析情報を見つけ、この新しい知識を活用するためのアクションを実行できます。 たとえば、顧客の購入嗜好を小売業者のシステムに読み込み、このデータを使用して次のような顧客接点を改善できます。

- 製品をバンドルして、平均的な e コマースまたは POS トランザクションを増やす
- 顧客コールセンターへの問い合わせをサポートする CRM 内の購入履歴
- e コマース レコメンデーション エンジンによって調整された製品の提案
- 顧客データに基づく対象を絞った関連広告
- サプライ チェーン内での製品の動きに基づいて更新された在庫状況

引き出される可能性のある別の種類の分析情報は、これまで疑問視されていないパターンです。 たとえば、午後 3 時から午後 7 時までの間に、より多くの在庫損失が発生していることが明らかになる場合があります。 これは、根本原因を突き止め、対応策 (セキュリティの強化や標準業務手順の改善など) を決定するために追加データが必要であることを示していることがあります。

## <a name="conclusion"></a>まとめ

小売業におけるデータ管理は複雑です。 しかし、関連性を提供し、カスタマー エクスペリエンスを向上させることができるため、データ管理には価値があります。 この記事の手法を使用して分析情報を得ることで、カスタマー エクスペリエンスを向上させ、収益性の高いビジネス成果を推進し、業務改善を促進する可能性のある傾向を明らかにすることができます。

データ管理パイプラインの実装に関連する Azure の機能についてさらに理解を深めるには、以下を参照してください。

- [Azure Data Factory](/azure/data-factory/?WT.mc_id=retaildm-docs-dastarr) を活用して、オンプレミスのデータ ストアのデータを Azure に取り込む方法をご覧ください。
- すべてのデータ (構造化データと非構造化データの両方) のストアとして機能する [Azure Data Lake](/azure/data-lake-store/data-lake-store-overview?WT.mc_id=retaildm-docs-dastarr) の詳細をご覧ください。
- [Power BI](https://powerbi.microsoft.com/en-us/industries/retail/?WT.mc_id=retaildm-docs-dastarr) が既知の問題に関する詳細な分析情報を提供し、傾向分析を可能にする方法を示す実際の小売レポートをご覧ください。
- [Azure Marketplace](https://azuremarketplace.microsoft.com/?WT.mc_id=retaildm-docs-dastarr) にアクセスして、オンプレミスの既存のソリューションと互換性のあるソリューションを見つけてください。

_この記事は、David Starr と Mariya Zorotovich によって作成されました。_
