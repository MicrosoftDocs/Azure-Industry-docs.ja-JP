---
title: 製造業における予測メンテナンスの概要
author: scseely
ms.author: scseely
ms.date: 11/20/2019
ms.topic: article
ms.service: industry
description: Azure で製造業のお客様向けに予測メンテナンス (PdM) を開発する方法の概要
ms.openlocfilehash: 14ef249685c9ee90846dbfeba993742f7502037b
ms.sourcegitcommit: 3b175d73a82160c4cacec1ce00c6d804a93c765d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/06/2020
ms.locfileid: "77053829"
---
# <a name="predictive-maintenance-in-manufacturing-overview"></a>製造業における予測メンテナンスの概要

## <a name="introduction"></a>はじめに

予測メンテナンス (PdM) では、予定外のダウンタイムに伴うコストの発生を回避するために、メンテナンスの必要性を予測します。 デバイスに接続し、そのデバイスで生成されるデータを監視することで、潜在的な問題や障害につながるパターンを識別できます。 次に、これらの分析情報を使用して、問題の発生前に対処できます。 機器や資産のメンテナンスが必要な時期を予測するこの機能を使用すると、機器の寿命を最大限に活用し、ダウンタイムを最小限に抑えることができます。

PdM は、現場の機器によって生成されたデータから分析情報を抽出し、これらの分析情報について決定を下します。 PdM のアイデアは 1990 年代初頭までさかのぼり、定期的な予防保全を補強するものです。 当初は、データを生成するセンサーを利用できなかったり、データの収集および分析を行うコンピューティング リソースが不足していたりしたために、PdM の実装は困難でした。 今では、モノのインターネット (IoT)、クラウド コンピューティング、データ分析、および機械学習 (ML) の進歩により、予測メンテナンスが主流となりつつあります。

PdM では、機器を監視するセンサーのデータやその他の運用データが、その機器から提供される必要があります。 PdM システムは、このデータを分析し、結果を保存します。 人間はこの分析に基づいて行動します。

この記事で背景を紹介した後に、オンプレミス データ、Azure Machine Learning、および機械学習モデルの組み合わせを使用して、PdM ソリューションのさまざまな部分を実装する方法について説明します。 PdM ではデータに大きく依存して意思決定を行うため、最初にデータ収集について見ていきます。 現在起きていることを評価し、今後より優れた予測モデルを構築するために、データを収集して使用する必要があります。 最後に、[Power BI](https://docs.microsoft.com/power-bi/) などレポート作成ツールでの分析結果の視覚化を含め、分析ソリューションとはどのようなものかについて説明します。

## <a name="maintenance-strategies"></a>メンテナンス戦略

製造業の歴史をとおして、いくつかのメンテナンス戦略が登場しました。 事後対応型メンテナンスでは、問題の発生後に対処します。 予防的メンテナンスでは、以前のエラーの経験に基づいたメンテナンス スケジュールに従って、問題の発生前に対処します。 PdM も問題が発生する前に対処しますが、固定したスケジュールに従って作業するのではなく、機器の実際の使用状況が考慮されます。 この 3 つのうち PdM は、データの収集、処理、および視覚化についての歴史的な限界により、実現するのが最も困難でした。 それでは、オプションごとにもう少し詳しく見ていきましょう。

事後対応型メンテナンスは、&quot;壊れていないなら直さない&quot; という精神を具現化したものです。 資産を整備するのは、障害が発生したときのみです。 たとえば、5 軸 CNC 複合工作機械のモーターは、動作しなくなった場合のみ整備を行います。 事後対応型メンテナンスは、最終的に故障するコンポーネントの寿命を最大化します。 事後対応型メンテナンスでは、ダウンタイムの長さが不明であり、故障したコンポーネントの悪影響を受けたコンポーネントの予期しない付随的損害などの問題も伴います。

予防的メンテナンスでは、あらかじめ決められた間隔で資産を整備する必要があります。 この間隔は通常、その資産の経験的な障害頻度の履歴に基づきます。 これらの間隔は、パフォーマンスの履歴、シミュレーション、統計モデリングなどに基づいています。この方法の利点は、稼働時間が長くなり、エラーが減り、メンテナンスが計画できることです。 欠点は、多くの場合、交換した資産のコンポーネントの寿命が残っている可能性があることです。 これは、過剰なメンテナンスと無駄につながります。 その一方で、予定されたメンテナンスの前であっても部品が故障する可能性があります。 予防的メンテナンスについてはおそらくよくご存じでしょう。定められた時間 (またはその他のメトリック) 運転するごとに、機械の使用を停止して点検します。 交換することになっている部品はすべて交換します。

予測メンテナンスでは資産の使用状況を監視し、モデルを使用して、資産のコンポーネントで障害が発生しそうなタイミングを予測します。 このコンポーネントでは、&quot;Just-In-Time メンテナンス&quot; を行うためにメンテナンスがスケジュールされます。 PdM では、稼働時間と資産の寿命の両方を最大化することで前の戦略よりも向上しています。 コンポーネントの最大寿命が近付いている機器を整備するので、動作している部品の交換費用を節約できます。 欠点は、PdM の Just-In-Time の性質により、応答性と柔軟性の高いサービス組織が必要になるため、実行が難しくなることです。 5 軸 CNC 複合工作機械のモーターの話に戻ります。予測モデルによって、(工作機械のセンサーからの情報に基づき) 24 時間以内にモーターの障害が発生する可能性が 75% であると予測される場合、メンテナンスを &quot;適切に&quot; (つまり、生産を中断することなく計画的に) スケジュールします。

 ![](./assets/pdm-assets/maintenancestrategies.png)


## <a name="different-ways-pdm-can-be-offered"></a>PdM のさまざまな提供方法

PdM ソリューションは、メーカーが自社の製造作業から取得されるデータを直接監視することによって使用できます。 それ以外の方法も存在しますが、それは新たなビジネス チャンスであったり、他の組織にとっての収益の流れであったりします。 次に例を示します。

- あるメーカーでは、自社製品に予測メンテナンス サービスを提供することで、顧客にとっての価値を高めています。
- あるメーカーでは、サービスとしての製品モデルの下で製品を提供しています。顧客は製品を完全に購入するのではなく、製品に &quot;サブスクライブ&quot; します。 このモデルの場合、メーカーは製品の稼働時間を最大化する必要があります。動作していないときに製品は収益を生み出さないためです。
- ある企業では、1 つ以上のメーカーによって製造された製品向けに、予測メンテナンス製品およびサービスを提供しています。

## <a name="building-a-predictive-maintenance-solution"></a>予測メンテナンス ソリューションの構築

PdM ソリューションを構築する際はデータから始めます。通常の動作を示すデータと、機器の故障前、故障中、および故障後の状態を示すデータがあるのが理想的です。 データは、センサーからのものであり、装置オペレーターによって管理されるメモ、実行情報、環境データ、マシン仕様などです。レコードのシステムには、historians、製造実行システム、ERP などが含まれる場合があります。データは、さまざまな方法で分析に使用できます。 以下に示す、製造業向けにカスタマイズされた [Team Data Science Process](https://docs.microsoft.com/azure/machine-learning/team-data-science-process/) では、機械学習モデルの構築および実行の際のさまざまな懸念事項について適切に説明されています。

 ![](./assets/pdm-assets/DataScienceDiagram.png)


最初のタスクは、予測対象となる障害の種類を特定することです。 これを念頭に、その障害の種類に関連する対象データを含むデータ ソースを特定します。 パイプラインによって、お使いの環境からシステムへとデータを渡します。 データ サイエンティストは、好みの機械学習ツールを使用してデータを準備します。 これで、さまざまな種類の問題を識別できるモデルを作成してトレーニングを行う準備が整いました。 このモデルは次のような質問に回答します。

- "_今から X 時間以内にその資産で障害が発生する確率はどのくらいですか。_ " 回答: 0 から 100%
- "_その資産の残存耐用時間数はどのくらいですか。_ " 回答: X 時間
- "_この資産の動作は異常ですか。_ " 回答: はい、いいえ
- "_最も緊急に整備を必要としているのはどの資産ですか。_ " 回答: 資産 X

開発が完了したら、このモデルは、自己診断用に機器自体に配置するか、製造環境内のどこかのエッジ デバイスに配置するか、または Azure に配置することができます。 また、引き続き PdM ソリューションの構築および管理できるように、一次ソースから中央ストアへのデータ送信を継続します。

Azure の処理能力を活用すると、任意のテクノロジでこのモデルのトレーニングとテスト行うことができます。 GPU、FPGA、CPU、大容量メモリのコンピューターなどを利用できます。 Azure の優れた点の 1 つは、データ サイエンティストが使用するオープン ソース ツール (R や Python) をプラットフォーム上で完全に活用できることです。 分析が完了すると、結果は、ダッシュボードの他のファセットやその他のレポートに表示できます。 これらのレポートをカスタム ツールに表示したり、[Power BI](https://docs.microsoft.com/power-bi/) や [Time Series Insights](https://docs.microsoft.com/azure/time-series-insights/) などのレポート作成ツールを活用したりすることもできます。

PdM に必要なものが何であっても、堅牢なソリューションを構築するために必要とされるツール、スケール、および機能が Azure には用意されています。

## <a name="getting-started"></a>作業の開始

工場のフロアにある多くの機器がデータを収集し、デバイスからデータを収集するメカニズムを提供しています。 このデータの収集はできるだけ早く始めてください。 障害が発生したら、今後の障害を検出できるモデルを作成するために、データ サイエンティストにデータを分析してもらいます。 障害の検出に関する知識が構築されたら予測モードに移り、計画されたダウンタイムの間にコンポーネントを修理します。 「[予測メンテナンスのモデリング ガイド](https://gallery.azure.ai/Collection/Predictive-Maintenance-Modelling-Guide-1)」では、ソリューションの Machine Learning の部分を構築する方法についての信頼できるチュートリアルが提供されています。

ソリューションの例については、[航空宇宙業界における PdM](https://github.com/Azure/cortana-intelligence-predictive-maintenance-aerospace) に関するソリューション、ガイド、およびプレイブックを確認してください。 モデルの構築を強化する必要がある場合は、[AI スクール](https://aischool.microsoft.com/)にアクセスすることをお勧めします。 [Introduction to Machine Learning with Azure ML (Azure ML を使用した機械学習の概要)](https://aischool.microsoft.com/learning-paths/4ZYo4wHJVCsUSAKa2EoAk8) コースは、Microsoft のツールに習熟するうえで有用です。

## <a name="technologies-presented"></a>提供されるテクノロジ

[Azure Blob Storage](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) では、必要なデータ アクセス頻度に応じてホット レベル、クール レベル、またはアーカイブ レベルに、数百個から数十億個のオブジェクトを保管できます。

[Azure Cosmos DB](https://docs.microsoft.com/azure/cosmos-db/) は、待機時間が非常に短く、極めてスケーラブルなアプリケーションを世界中どこでも実現する、NoSQL のネイティブ サポートが付いたデータベースです。

[Azure Data Lake Store](https://docs.microsoft.com/azure/data-lake-store/) には、開発者、データ サイエンティスト、アナリストが、さまざまなサイズ、形状、スピードのデータを容易に格納し、さまざまなプラットフォームと言語を使用したあらゆる種類の処理と分析を簡単に実行するために必要な機能がすべて組み込まれています。

[Azure Event Hubs](https://docs.microsoft.com/azure/event-hubs/) は、数百万のイベントを収集、変換、保存する、ハイパースケールのテレメトリ インジェスト サービスです。 分散型のストリーミング プラットフォームとして、待機時間が短く、保持時間を設定可能なため、膨大な量のテレメトリをクラウドに送信し、パブリッシュ/サブスクライブ セマンティクスを使用して、複数のアプリケーションからデータを読み込むことができます。

[Azure IoT Edge](https://docs.microsoft.com/azure/iot-edge/) は、IoT Hub の上に構築されるモノのインターネット (IoT) サービスです。 このサービスは、クラウド内ではなく、デバイスで (つまり "エッジで") データを分析したいお客様を対象としています 。 ワークロードの一部をエッジに移動することで、デバイスがクラウドにメッセージを送る時間を減らし、状態の変化により迅速に反応できるようにすることができます。

[Azure IoT Hub](https://docs.microsoft.com/azure/iot-hub/) は、何百万もの IoT デバイスとソリューション バックエンド間で、セキュリティで保護された信頼性のある双方向通信を実現する、フル マネージドのサービスです。

[Azure Machine Learning](https://docs.microsoft.com/azure/machine-learning/) によって、コンピューターはデータと経験から学習することができ、明示的にプログラミングされていなくても動作できます。 お客様は、情報をインテリジェントに理解、処理、動作する人工知能 (AI) アプリケーションをビルドできます。このアプリケーションは、人間の能力を強化し、速度と効率を向上させると共に、組織のさらなる成功を支援します。

[Azure Service Bus](https://docs.microsoft.com/azure/service-bus/) は、ブローカー型の通信メカニズムです。 Service Bus のメッセージング インフラストラクチャの中心的なコンポーネントは、キュー、トピック、およびサブスクリプションです。

[Azure SQL Database](https://docs.microsoft.com/azure/sql-database/) は、インテリジェントなフル マネージドのリレーショナル クラウド データベース サービスです。幅広い SQL Server エンジンとの互換性を備えているため、アプリを変更しなくても、SQL Server データベースの移行が可能です。

[Power BI](https://docs.microsoft.com/power-bi/) は、組織全体に分析情報を提供できるビジネス分析ツール スイートです。 数百のデータ ソースに接続し、データの準備を簡素化して、アドホック分析を促進できます。

[Time Series Insights](https://docs.microsoft.com/azure/time-series-insights/) は、IoT 規模の時系列データをクラウドで管理するための、フル マネージドの分析、ストレージ、視覚化サービスです。

## <a name="conclusion"></a>まとめ

PdM では、問題を予測できるシステムを構築して障害が発生する前に対処できるようにする一定レベルのインストルメンテーションと接続性を機械に備える必要があります。 PdM では、検査および修復、または交換の対象となるコンポーネントを識別することによって、予防的メンテナンス スケジュールを補強します。 作業の開始に役立つリソースが数多く存在します。 Microsoft のインフラストラクチャは、デバイス、エッジ、およびクラウドで実行されるソリューションを構築する際に役立てることができます。 

まず、防止する必要がある上位 1 から 3 の障害を選び、それらの項目の検出プロセスを開始します。 次に、障害の識別に役立つデータが存在する場所を特定します。 [Introduction to Machine Learning with Azure ML(Azure ML を使用した機械学習の概要)](https://aischool.microsoft.com/learning-paths/4ZYo4wHJVCsUSAKa2EoAk8) コースから選択したスキルと、このデータを組み合わせて、PdM モデルを構築します。